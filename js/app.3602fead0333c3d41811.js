!function(e){function t(t){for(var i,o,s=t[0],u=t[1],l=t[2],d=0,p=[];d<s.length;d++)o=s[d],a[o]&&p.push(a[o][0]),a[o]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);for(c&&c(t);p.length;)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var u=n[s];0!==a[u]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},a={0:0},r=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="./";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=u;r.push([134,1]),n()}([,,,,,,,,,function(e,t,n){e.exports=n.p+"images/text_fastforward.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"songs/01_Chaos.mp3"},function(e,t,n){e.exports=n.p+"songs/02_Akihabara.mp3"},function(e,t,n){e.exports=n.p+"songs/03_Nothing_Stops_Detroit.mp3"},function(e,t,n){e.exports=n.p+"songs/04_Gnosis_Hardware.mp3"},function(e,t,n){e.exports=n.p+"songs/05_No_Refuge.mp3"},function(e,t,n){e.exports=n.p+"songs/06_Out_Here_At_The_Outersphere.mp3"},function(e,t,n){e.exports=n.p+"songs/07_Chicago.mp3"},function(e,t,n){e.exports=n.p+"songs/08_Passports.mp3"},function(e,t,n){e.exports=n.p+"songs/09_Come_True.mp3"},function(e,t,n){e.exports=n.p+"images/disc.png"},function(e,t,n){e.exports=n.p+"images/more.png"},function(e,t,n){e.exports=n.p+"images/hide.png"},function(e,t,n){e.exports=n.p+"images/rwd.png"},function(e,t,n){e.exports=n.p+"images/play-pause.png"},function(e,t,n){e.exports=n.p+"images/ffwd.png"},function(e,t,n){e.exports=n.p+"images/stop.png"},function(e,t,n){e.exports=n.p+"images/repeat.png"},function(e,t,n){e.exports=n.p+"images/texture.gif"},function(e,t,n){e.exports=n.p+"images/pink.gif"},function(e,t,n){e.exports=n.p+"images/orb-shadow.png"},function(e,t,n){e.exports=n.p+"images/test.png"},function(e,t,n){e.exports=n.p+"songs/button-press.mp3"},function(e,t,n){e.exports=n.p+"songs/button-highlight.mp3"},function(e,t,n){e.exports=n.p+"images/text_advanced.png"},function(e,t,n){e.exports=n.p+"images/text_hide.png"},function(e,t,n){e.exports=n.p+"images/text_stop.png"},function(e,t,n){e.exports=n.p+"images/text_rewind.png"},,,,,,function(e,t,n){e.exports=n.p+"images/time.png"},function(e,t,n){e.exports=n.p+"images/track.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i=n(123);"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(132)(i,a);i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(124);(t=e.exports=n(125)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Press+Start+2P);",""]),t.push([e.i,"/*\n                                                                      ..;===+.\n                                                                  .:=iiiiii=+=\n                                                               .=i))=;::+)i=+,\n                                                            ,=i);)I)))I):=i=;\n                                                         .=i==))))ii)))I:i++\n                                                       +)+))iiiiiiii))I=i+:'\n                                  .,:;;++++++;:,.       )iii+:::;iii))+i='\n                               .:;++=iiiiiiiiii=++;.    =::,,,:::=i));=+'\n                             ,;+==ii)))))))))))ii==+;,      ,,,:=i))+=:\n                           ,;+=ii))))))IIIIII))))ii===;.    ,,:=i)=i+\n                          ;+=ii)))IIIIITIIIIII))))iiii=+,   ,:=));=,\n                        ,+=i))IIIIIITTTTTITIIIIII)))I)i=+,,:+i)=i+\n                       ,+i))IIIIIITTTTTTTTTTTTI))IIII))i=::i))i='\n                      ,=i))IIIIITLLTTTTTTTTTTIITTTTIII)+;+i)+i`\n                      =i))IIITTLTLTTTTTTTTTIITTLLTTTII+:i)ii:'\n                     +i))IITTTLLLTTTTTTTTTTTTLLLTTTT+:i)))=,\n                     =))ITTTTTTTTTTTLTTTTTTLLLLLLTi:=)IIiii;\n                    .i)IIITTTTTTTTLTTTITLLLLLLLT);=)I)))))i;\n                    :))IIITTTTTLTTTTTTLLHLLLLL);=)II)IIIIi=:\n                    :i)IIITTTTTTTTTLLLHLLHLL)+=)II)ITTTI)i=\n                    .i)IIITTTTITTLLLHHLLLL);=)II)ITTTTII)i+\n                    =i)IIIIIITTLLLLLLHLL=:i)II)TTTTTTIII)i'\n                  +i)i)))IITTLLLLLLLLT=:i)II)TTTTLTTIII)i;\n                +ii)i:)IITTLLTLLLLT=;+i)I)ITTTTLTTTII))i;\n               =;)i=:,=)ITTTTLTTI=:i))I)TTTLLLTTTTTII)i;\n             +i)ii::,  +)IIITI+:+i)I))TTTTLLTTTTTII))=,\n           :=;)i=:,,    ,i++::i))I)ITTTTTTTTTTIIII)=+'\n         .+ii)i=::,,   ,,::=i)))iIITTTTTTTTIIIII)=+\n        ,==)ii=;:,,,,:::=ii)i)iIIIITIIITIIII))i+:'\n       +=:))i==;:::;=iii)+)=  `:i)))IIIII)ii+'\n     .+=:))iiiiiiii)))+ii;\n    .+=;))iiiiii)));ii+\n   .+=i:)))))))=+ii+\n  .;==i+::::=)i=;\n  ,+==iiiiii+,\n  `+=+++;`\n\n*/\n/* Typography & Base Styling */\n* {\n  box-sizing: border-box;\n  font-size: inherit; }\n\nhtml {\n  height: 100%; }\n\nbody {\n  font-family: \"Press Start 2P\", \"Monaco\", monospace;\n  font-size: 22px;\n  font-weight: 500;\n  line-height: 1.3;\n  height: 100%;\n  overflow: hidden;\n  color: #444;\n  margin: 0;\n  background: black; }\n\np {\n  margin-top: 0; }\n\n.pointer {\n  cursor: pointer; }\n\n.overlay {\n  background: black;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  z-index: 100; }\n\n#root {\n  width: 100%;\n  height: 100%;\n  max-width: 125vh;\n  margin: 0 auto;\n  overflow: hidden; }\n  #root > div {\n    height: 100%;\n    width: 100%;\n    position: relative; }\n\ncanvas {\n  position: fixed;\n  bottom: 0;\n  text-rendering: optimizelegibility;\n  image-rendering: optimizeSpeed;\n  /* Older versions of FF          */\n  image-rendering: -moz-crisp-edges;\n  /* FF 6.0+                       */\n  image-rendering: -webkit-optimize-contrast;\n  /* Safari                        */\n  image-rendering: -o-crisp-edges;\n  /* OS X & Windows Opera (12.02+) */\n  image-rendering: pixelated;\n  /* Awesome future-browsers       */ }\n\n.Cubes canvas {\n  left: 0;\n  padding: 0;\n  right: 0; }\n\n.menu canvas {\n  z-index: 90; }\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg); }\n  to {\n    transform: rotate(-360deg); } }\n\n.StarField {\n  top: 0;\n  width: 100%;\n  height: 100%;\n  position: absolute; }\n  .StarField:after {\n    content: \"\";\n    background: url("+i(n(126))+') no-repeat;\n    background-size: cover;\n    background-color: black;\n    position: absolute;\n    left: -35%;\n    right: -35%;\n    top: -35%;\n    bottom: -35%;\n    animation-name: spin;\n    animation-duration: 500s;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n    z-index: -1; }\n  .StarField canvas {\n    position: relative;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 1; }\n\n@keyframes fadeOut {\n  from {\n    opacity: 1; }\n  to {\n    opacity: 0; } }\n\n.dashboard,\n.dashboard:after {\n  content: "";\n  background: url('+i(n(127))+") no-repeat;\n  background-size: 100% 50%;\n  background-position: 0 100%;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 50%;\n  z-index: 20;\n  padding-bottom: 91%;\n  text-rendering: optimizelegibility;\n  image-rendering: optimizeSpeed;\n  /* Older versions of FF          */\n  image-rendering: -moz-crisp-edges;\n  /* FF 6.0+                       */\n  image-rendering: -webkit-optimize-contrast;\n  /* Safari                        */\n  image-rendering: -o-crisp-edges;\n  /* OS X & Windows Opera (12.02+) */\n  image-rendering: pixelated;\n  /* Awesome future-browsers       */ }\n\n.dashboard:after {\n  left: 99.9999%;\n  right: 0;\n  transform: scaleX(-1);\n  width: 100%;\n  background-size: 100% 100%; }\n\n.cubes {\n  z-index: 70;\n  position: relative; }\n\nheader {\n  position: relative;\n  text-rendering: optimizelegibility;\n  image-rendering: optimizeSpeed;\n  /* Older versions of FF          */\n  image-rendering: -moz-crisp-edges;\n  /* FF 6.0+                       */\n  image-rendering: -webkit-optimize-contrast;\n  /* Safari                        */\n  image-rendering: -o-crisp-edges;\n  /* OS X & Windows Opera (12.02+) */\n  image-rendering: pixelated;\n  /* Awesome future-browsers       */ }\n  header .info {\n    background: url("+i(n(128))+') top center/cover no-repeat;\n    width: 100%;\n    height: 0;\n    padding-top: calc(36 / 254 * 100%);\n    margin: 0 auto;\n    position: relative;\n    z-index: 2; }\n    header .info .time,\n    header .info .track {\n      position: absolute;\n      top: 24%;\n      left: 50%;\n      width: 8%;\n      line-height: 0; }\n      header .info .time img,\n      header .info .track img {\n        width: 100%; }\n    header .info .track {\n      left: 15%;\n      width: 11.79%; }\n    header .info .timer {\n      position: absolute;\n      top: 38%;\n      left: 60%;\n      color: #004848;\n      font-size: 22px;\n      line-height: 0;\n      -webkit-font-smoothing: none; }\n\n.music-picker {\n  background: white; }\n\n.FileReader {\n  padding: 2em;\n  height: 100%;\n  cursor: default;\n  font-size: 14px; }\n  .FileReader:before {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    top: 0;\n    content: " ";\n    display: block;\n    filter: brightness(0);\n    text-rendering: optimizelegibility;\n    image-rendering: optimizeSpeed;\n    /* Older versions of FF          */\n    image-rendering: -moz-crisp-edges;\n    /* FF 6.0+                       */\n    image-rendering: -webkit-optimize-contrast;\n    /* Safari                        */\n    image-rendering: -o-crisp-edges;\n    /* OS X & Windows Opera (12.02+) */\n    image-rendering: pixelated;\n    /* Awesome future-browsers       */\n    background: url('+i(n(129))+") repeat-y;\n    background-position: center;\n    background-size: contain;\n    z-index: -1;\n    animation-name: menuBrightness;\n    animation-duration: 1s;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards;\n    animation-timing-function: ease-out;\n    animation-delay: 500ms; }\n\n@keyframes menuBrightness {\n  from {\n    filter: brightness(0); }\n  to {\n    filter: brightness(1); } }\n  .FileReader .content {\n    text-align: center;\n    max-width: 800px;\n    margin: 0 auto;\n    opacity: 0;\n    animation-name: menuContentFadeIn;\n    animation-duration: 10ms;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards;\n    animation-timing-function: ease-out;\n    animation-delay: 1.35s; }\n\n@keyframes menuContentFadeIn {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n  .FileReader h2 {\n    background: url("+i(n(130))+');\n    background-color: rgba(0, 0, 0, 0.5);\n    border-radius: 10px;\n    line-height: 53px;\n    padding: 0 1.5em;\n    background-size: 100% 100%;\n    text-rendering: optimizelegibility;\n    image-rendering: optimizeSpeed;\n    /* Older versions of FF          */\n    image-rendering: -moz-crisp-edges;\n    /* FF 6.0+                       */\n    image-rendering: -webkit-optimize-contrast;\n    /* Safari                        */\n    image-rendering: -o-crisp-edges;\n    /* OS X & Windows Opera (12.02+) */\n    image-rendering: pixelated;\n    /* Awesome future-browsers       */\n    color: white;\n    text-transform: capitalize;\n    margin: 0 auto;\n    margin-bottom: 2em;\n    display: inline-block; }\n  .FileReader h3 {\n    color: white;\n    margin: 0 0 2em; }\n  .FileReader button {\n    cursor: pointer;\n    margin: 0 10px; }\n  .FileReader .playlists {\n    background-color: rgba(131, 23, 71, 0.65);\n    border-radius: 3px;\n    height: 50%;\n    box-shadow: 0 0 0 2px rgba(53, 59, 101, 0.8), 0 0 0 3.5px rgba(149, 149, 149, 0.8), 0 0 0 5px rgba(53, 59, 101, 0.8);\n    font-size: 13px;\n    color: white;\n    font-weight: 400;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n    margin: 0 0 2em;\n    max-height: 72vh;\n    overflow: scroll; }\n    @media screen and (min-width: 500px) {\n      .FileReader .playlists {\n        padding: 1em; } }\n    .FileReader .playlists .draggable {\n      cursor: grab;\n      padding: 8px 10px;\n      border-radius: 2px;\n      margin: 0 0 2px;\n      display: flex;\n      flex-direction: row;\n      text-align: left;\n      font-size: 10px; }\n      @media screen and (min-width: 500px) {\n        .FileReader .playlists .draggable {\n          font-size: 16px; } }\n      .FileReader .playlists .draggable p {\n        margin: 0;\n        padding: 0; }\n      .FileReader .playlists .draggable:hover {\n        animation: selectedItem 3s infinite; }\n      .FileReader .playlists .draggable:active {\n        cursor: grabbing !important; }\n      .FileReader .playlists .draggable.isDragging {\n        cursor: grabbing;\n        border: 1px white;\n        background: rgba(255, 255, 255, 0.5);\n        border-radius: 2px; }\n      .FileReader .playlists .draggable div:nth-child(1) {\n        width: 40px; }\n      .FileReader .playlists .draggable div:nth-child(2) {\n        width: 40%;\n        max-width: 400px; }\n      .FileReader .playlists .draggable div:nth-child(3) {\n        width: 25%;\n        max-width: 200px; }\n      .FileReader .playlists .draggable div:nth-child(4) {\n        width: 25%;\n        max-width: 200px; }\n      .FileReader .playlists .draggable button {\n        transition: all 200ms ease;\n        margin: 0;\n        margin-left: auto;\n        width: 10px;\n        appearance: none;\n        border: none;\n        outline: none;\n        background: none;\n        color: rgba(255, 255, 255, 0.6);\n        cursor: pointer;\n        border-radius: 2px;\n        width: 30px;\n        border: 1px solid rgba(255, 255, 255, 0.25);\n        text-align: center; }\n        .FileReader .playlists .draggable button:hover {\n          background: darkslategrey;\n          border: 1px solid darkslategrey;\n          color: white; }\n\n.track-number {\n  position: absolute;\n  left: 114%;\n  top: 112%;\n  color: #004848;\n  font-size: 140%;\n  line-height: 0;\n  -webkit-font-smoothing: none; }\n\n@keyframes floatDownRelative {\n  from {\n    transform: translateY(0%); }\n  to {\n    transform: translateY(100%); } }\n\n@keyframes floatUpRelative {\n  from {\n    transform: translateY(0%); }\n  to {\n    transform: translateY(-105%); } }\n\n@keyframes floatDownButtons {\n  from {\n    transform: translateY(0%); }\n  to {\n    transform: translateY(50vh); } }\n\n@keyframes blink {\n  0% {\n    opacity: 0; }\n  49% {\n    opacity: 0; }\n  50% {\n    opacity: 1; } }\n\n@keyframes selectedItem {\n  0% {\n    background: rgba(255, 255, 255, 0.7); }\n  50% {\n    background: pink; }\n  100% {\n    background: rgba(255, 255, 255, 0.7); } }\n\n.hidden .toast {\n  animation: blink 1s infinite, fadeOut 0ms linear 3s 1 forwards running !important; }\n\n.hidden header {\n  animation-name: floatUpRelative;\n  animation-duration: 1000ms;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease-out; }\n\n.hidden .dashboard,\n.hidden .cubes canvas,\n.hidden li {\n  animation-name: floatDownRelative;\n  animation-duration: 2000ms;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n  animation-timing-function: linear; }\n\n.hidden li {\n  animation-name: floatDownButtons;\n  animation-duration: 400ms;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease-in; }\n\n.hidden li:nth-child(1) {\n  animation-delay: 1400ms;\n  animation-duration: 300ms; }\n\n.hidden li:nth-child(2) {\n  animation-delay: 1300ms;\n  animation-duration: 300ms; }\n\n.hidden li:nth-child(3) {\n  animation-delay: 1100ms;\n  animation-duration: 300ms; }\n\n.hidden li:nth-child(4) {\n  animation-delay: 780ms;\n  animation-duration: 350ms; }\n\n.hidden li:nth-child(5) {\n  animation-delay: 800ms;\n  animation-duration: 350ms; }\n\n.hidden li:nth-child(6) {\n  animation-delay: 1000ms;\n  animation-duration: 350ms; }\n\n.hidden li:nth-child(7) {\n  animation-delay: 680ms; }\n\n.hidden li:nth-child(8) {\n  animation-delay: 600ms; }\n\n.hidden li:nth-child(9) {\n  animation-delay: 720ms; }\n\n.hidden li button.bottom:after,\n.hidden li a.bottom:after {\n  animation-name: fadeOut;\n  animation-duration: 200ms;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n  animation-timing-function: linear; }\n\n.hidden .tooltips {\n  display: none !important; }\n\n@keyframes toolTip {\n  from {\n    opacity: 1; }\n  to {\n    opacity: 0; } }\n\n.tooltips img {\n  position: absolute;\n  background: rgba(255, 255, 255, 0.5);\n  left: 50%;\n  transform: translate(-50%, 0);\n  bottom: 0;\n  z-index: 70;\n  padding: 5px 10px;\n  text-align: center;\n  font-size: 14px;\n  display: inline-block;\n  bottom: 4px;\n  height: 24px;\n  z-index: 99;\n  text-rendering: optimizelegibility;\n  image-rendering: optimizeSpeed;\n  /* Older versions of FF          */\n  image-rendering: -moz-crisp-edges;\n  /* FF 6.0+                       */\n  image-rendering: -webkit-optimize-contrast;\n  /* Safari                        */\n  image-rendering: -o-crisp-edges;\n  /* OS X & Windows Opera (12.02+) */\n  image-rendering: pixelated;\n  /* Awesome future-browsers       */ }\n  @media screen and (min-width: 500px) {\n    .tooltips img {\n      height: 30px;\n      width: auto;\n      bottom: 14px; } }\n  @media screen and (min-width: 600px) {\n    .tooltips img {\n      bottom: 20px; } }\n\n.tooltips strong {\n  font-weight: normal;\n  color: #ff2034; }\n\n@keyframes knight-rider {\n  from {\n    left: 25%; }\n  to {\n    left: 69%; } }\n\n.knight-rider {\n  display: none;\n  content: "";\n  background: url('+i(n(131))+") no-repeat;\n  background-position: center center;\n  background-size: 100% 100%;\n  height: 12%;\n  width: 6%;\n  position: absolute;\n  left: 50%;\n  bottom: 5%;\n  z-index: 1;\n  animation-name: knight-rider;\n  animation-duration: 1300ms;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear; }\n\n.playing .knight-rider {\n  display: inline-block; }\n\nblink {\n  animation: blink 1s infinite; }\n\n.toast {\n  position: fixed;\n  left: 50%;\n  top: 40%;\n  transform: translate(-50%, -50%);\n  width: 6em;\n  z-index: 9999; }\n\n.paused .knight-rider {\n  display: inline-block;\n  animation-play-state: paused; }\n\n.paused .timer,\n.paused .toast,\n.paused .knight-rider {\n  animation: blink 1s infinite; }\n\n@keyframes floatInRelative {\n  from {\n    transform: translateY(100%); }\n  to {\n    transform: translateY(0%); } }\n\n@keyframes floatDownInRelative {\n  from {\n    transform: translateY(-105%); }\n  to {\n    transform: translateY(0%); } }\n\n@keyframes floatInButtons {\n  from {\n    transform: translateY(50vh); }\n  to {\n    transform: translateY(0%); } }\n\n.show header {\n  animation-name: floatDownInRelative;\n  animation-duration: 600ms;\n  animation-iteration-count: 1;\n  animation-fill-mode: backwards;\n  animation-timing-function: linear;\n  animation-delay: 700ms; }\n\n.show .dashboard,\n.show .cubes canvas {\n  animation-name: floatInRelative;\n  animation-duration: 800ms;\n  animation-iteration-count: 1;\n  animation-fill-mode: backwards;\n  animation-timing-function: linear;\n  animation-delay: 300ms; }\n\n.show li button.bottom:after,\n.show li a.bottom:after {\n  animation-name: fadeOut;\n  animation-duration: 200ms;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n  animation-timing-function: linear; }\n",""])},,,function(e,t,n){e.exports=n.p+"images/galaxy.png"},function(e,t,n){e.exports=n.p+"images/dashboard.png"},function(e,t,n){e.exports=n.p+"images/header.png"},function(e,t,n){e.exports=n.p+"images/menuBg.png"},function(e,t,n){e.exports=n.p+"images/header_bg.png"},function(e,t,n){e.exports=n.p+"images/knight-rider.png"},,,function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"loadingStart",function(){return K}),n.d(i,"loadingFinish",function(){return X}),n.d(i,"toggleRepeat",function(){return W}),n.d(i,"playing",function(){return V}),n.d(i,"paused",function(){return Q}),n.d(i,"setCurrentTrack",function(){return Z}),n.d(i,"addTracks",function(){return J}),n.d(i,"arrangeTracks",function(){return $}),n.d(i,"removeTrack",function(){return ee});var a=n(0),r=n.n(a),o=n(37),s=n.n(o),u=n(2),l=n.n(u),c=n(6);function d(e){Object.getOwnPropertyNames(e.constructor.prototype).forEach(function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))})}var p=function(e){return e.reduce(function(e,t){return e+t},0)/e.length},f=function(){var e=window.innerWidth,t=1.25*window.innerHeight;return t>e?e:t},m=function(e){var t=Math.trunc(e/60).toString().padStart(2,"0"),n=Math.trunc(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(n)},h=function(){return Math.floor(Math.random()*Math.floor(2))+2},y=function(e){return Math.random()*e-.5*e};function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var b,v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.audio=t,this.leftChannel=[],this.rightChannel=[],this.setupAudioNodes(),d(this)}var t,n,i;return t=e,(n=[{key:"setupAudioNodes",value:function(){var e=window.AudioContext||window.webkitAudioContext;this.audioContext=new e;var t=this.createAnalyserNode(),n=this.createAnalyserNode(),i=this.audioContext.createChannelSplitter(2);this.audioContext.createMediaElementSource(this.audio).connect(i),i.connect(t,0),i.connect(n,1),this.dataArrayLeft=new Uint8Array(t.frequencyBinCount),this.dataArrayRight=new Uint8Array(n.frequencyBinCount),this.analyserLeft=t,this.analyserRight=n}},{key:"createAnalyserNode",value:function(){var e=this.audioContext.createAnalyser();return e.smoothingTimeConstant=.25,e.fftSize=128,e.connect(this.audioContext.destination),e}},{key:"runAnalysis",value:function(){var e=this.analyserLeft,t=this.analyserRight,n=this.dataArrayLeft,i=this.dataArrayRight;e.getByteFrequencyData(n),t.getByteFrequencyData(i),this.leftChannel=n,this.rightChannel=i,this.frameId=requestAnimationFrame(this.runAnalysis)}},{key:"startAnalyser",value:function(){this.frameId=this.frameId||requestAnimationFrame(this.runAnalysis)}},{key:"pauseAnalyser",value:function(){cancelAnimationFrame(this.frameId),this.frameId=void 0}},{key:"start",value:function(){"suspended"===this.audioContext.state&&this.audioContext.resume(),this.startAnalyser()}},{key:"pause",value:function(){this.pauseAnalyser(),this.audioContext.suspend()}},{key:"stop",value:function(){this.pauseAnalyser(),this.audioContext.close()}},{key:"averageFFT",get:function(){return[p(this.leftChannel),p(this.rightChannel)]}},{key:"rawFFT",get:function(){return[this.leftChannel,this.rightChannel]}}])&&g(t.prototype,n),i&&g(t,i),e}(),w=n(40),T=n.n(w),k=n(41),S=n.n(k),x=n(42),I=n.n(x),E=n(43),O=n.n(E),C=n(44),L=n.n(C),R=n(45),A=n.n(R),D=n(46),F=n.n(D),M=n(47),P=n.n(M),z=n(48),_=n.n(z);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e){return(N="function"==typeof Symbol&&"symbol"===j(Symbol.iterator)?function(e){return j(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":j(e)})(e)}function q(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function B(e){var t=function(e,t){if("object"!==N(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==N(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===N(t)?t:String(t)}function H(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){G(e,t,n[t])})}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y={currentTrack:null,loading:!1,repeat:"off",currentTime:m(0),playing:!1,paused:!1,playlist:["Chaos","Akihabara","Nothing Stops Detroit","Gnosis Hardware","No Refuge","Out Here at the Outersphere","Chicago","Passports","Come True"],tracks:(b={},G(b,"Chaos",{file:T.a,track:1,album:"Entertainment System",artist:"Professor Kliq",title:"Chaos"}),G(b,"Akihabara",{title:"Akihabara",file:S.a,track:2,album:"Entertainment System",artist:"Professor Kliq"}),G(b,"Nothing Stops Detroit",{title:"Nothing Stops Detroit",file:I.a,track:3,album:"Entertainment System",artist:"Professor Kliq"}),G(b,"Gnosis Hardware",{title:"Gnosis Hardware",file:O.a,track:4,album:"Entertainment System",artist:"Professor Kliq"}),G(b,"No Refuge",{title:"No Refuge",file:L.a,track:5,album:"Entertainment System",artist:"Professor Kliq"}),G(b,"Out Here at the Outersphere",{title:"Out Here at the Outersphere",file:A.a,track:6,album:"Entertainment System",artist:"Professor Kliq"}),G(b,"Chicago",{title:"Chicago",file:F.a,track:7,album:"Entertainment System",artist:"Professor Kliq"}),G(b,"Passports",{title:"Passports",file:P.a,track:8,album:"Entertainment System",artist:"Professor Kliq"}),G(b,"Come True",{title:"Come True",file:_.a,track:9,album:"Entertainment System",artist:"Professor Kliq"}),b)},K=function(){return wn.dispatch({type:"LOADING_STARTED",data:{loading:!0}})},X=function(){return wn.dispatch({type:"LOADING_FINISHED",data:{loading:!1}})},W=function(e){return wn.dispatch({type:"TOGGLE_REPEAT",data:{repeat:e}})},V=function(){return wn.dispatch({type:"PLAYING"})},Q=function(){return wn.dispatch({type:"PAUSED"})},Z=function(e){return wn.dispatch({type:"SET_CURRENT_TRACK",data:{trackIndex:e}})},J=function(e){return wn.dispatch({type:"ADD_TRACKS",data:{tracks:e}})},$=function(e){return wn.dispatch({type:"ARRANGE_TRACKS",data:{playlist:e}})},ee=function(e){return wn.dispatch({type:"REMOVE_TRACK",data:{trackIndex:e}})};function te(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ne=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.audioElement=new Audio,this.audioElement.crossOrigin="anonymous",this.repeat="off",this.reduxState=Y,this.changeSrc=!0,this.analyser=new v(this.audioElement),this.setupEventListeners(),this.syncManagerWithStore(),d(this)}var t,n,i;return t=e,(n=[{key:"syncManagerWithStore",value:function(){var e=this;wn.subscribe(function(){e.reduxState=wn.getState().audio,e.reduxState.currentTrack!==e.currentTrack?(e.currentTrack=e.reduxState.currentTrack,e.changeTrack=!0):e.changeTrack=!1})}},{key:"togglePlay",value:function(){var e=this,t=this.audioElement;t.src||(console.log,Z(0)),t.paused||t.ended?setTimeout(function(){return e.playAndReport()},500):t.pause()}},{key:"playAndReport",value:function(){var e=this.reduxState,t=e.tracks,n=e.playlist,i=e.currentTrack,a=t[n[void 0===i?0:i]].file;if(a instanceof File){var r=URL.createObjectURL(a);this.audioElement.src=r,this.audioElement.play()}else this.audioElement.src&&this.audioElement.src.includes(a)||(console.log(this.audioElement.src,a),this.audioElement.src=a),this.audioElement.play()}},{key:"revokeSongUrl",value:function(){var e=this.reduxState,t=e.tracks,n=e.playlist,i=e.currentTrack,a=t[n[void 0===i?0:i]].file;a instanceof File&&URL.revokeObjectURL(a)}},{key:"loadNext",value:function(e){this.revokeSongUrl();var t=this.reduxState.currentTrack+1;t>=this.reduxState.playlist.length?(Z(0),e&&"context"!==this.reduxState.repeat||this.playAndReport()):(Z(t),this.playAndReport())}},{key:"loadPrevious",value:function(){this.revokeSongUrl();var e=this.reduxState.currentTrack;Z(e?e-1:0),this.playAndReport()}},{key:"setupEventListeners",value:function(){var e=this;this.audioElement.addEventListener("loadstart",function(){return K()}),this.audioElement.addEventListener("canplaythrough",function(){return X()}),this.audioElement.addEventListener("play",function(){V(),e.analyser.start()}),this.audioElement.addEventListener("pause",function(){Q(),e.analyser.pause()}),this.audioElement.addEventListener("ended",function(){"track"===e.reduxState.repeat?e.togglePlay():e.loadNext(!0)})}},{key:"nextTrack",value:function(){this.loadNext()}},{key:"previousTrack",value:function(){this.audioElement.currentTime>=3?this.audioElement.currentTime=0:this.loadPrevious()}},{key:"pause",value:function(){this.audioElement.pause()}},{key:"stop",value:function(){this.audioElement.pause(),this.audioElement.currentTime=0}},{key:"toggleRepeat",value:function(){var e;switch(this.reduxState.repeat){case"off":e="track";break;case"track":e="context";break;default:e="off"}W(e)}},{key:"analyserFFT",get:function(){return this.analyser.averageFFT}},{key:"rawFFT",get:function(){return this.analyser.rawFFT}},{key:"currentTime",get:function(){return this.audioElement.currentTime}}])&&te(t.prototype,n),i&&te(t,i),e}(),ie=n(1),ae=n(14),re=n.n(ae),oe=n(3),se=n.n(oe),ue=function(e,t){var n,i,a,r=142.5-(n=.75*t,i=Math.log(1),a=(Math.log(142)-i)/100,Math.exp(i+a*(n-0))),o=new ie.Color("hsl(".concat(r>0?r:0,", 100%, 48%)"));e.material.color.set(o)},le=function(e,t){ue(e,t);var n=.008*t+.5,i=n<1.65?n:1.65;return e.morphTargetInfluences[0]=.007*t>1?1:.007*t,new oe.Tween(e.scale).to({x:i,y:i,z:i},50).easing(oe.Easing.Quadratic.Out).start()},ce=function(e,t){return Math.random()*(e-t)+t},de=function(e,t){var n=t?-Math.abs(.03):.03,i=t?-Math.abs(.01):.01;e.rotateX(ce(n,i)),e.rotateY(ce(n,i))},pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;(arguments.length>3?arguments[3]:void 0)?e.position.y+=.0075:n&&(e.position.y-=.0075),e.rotateY(.0025*t)};function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e){return(me="function"==typeof Symbol&&"symbol"===fe(Symbol.iterator)?function(e){return fe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":fe(e)})(e)}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ye(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var we=function(e){function t(e){var n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,a=ge(t).call(this,e),(n=!a||"object"!==me(a)&&"function"!=typeof a?be(i):a).debouncedResize=null,n.loader=new re.a,n.animateDownL=!0,n.animateUpL=!1,n.animateDownR=!0,n.animateUpR=!1,d(be(n)),window.addEventListener("resize",function(){clearTimeout(n.debouncedResize),n.debouncedResize=setTimeout(n.onResize,250)}),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,r.a.Component),n=t,(i=[{key:"componentDidMount",value:function(){this.setupScene()}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.hidden!==e.hidden}},{key:"onResize",value:function(){var e=f(),t=.75*e;this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}},{key:"setupScene",value:function(){var e=f(),t=.75*e,n=new ie.Scene,i=new ie.PerspectiveCamera(20,e/t,1,1200);i.position.z=45,i.position.y=-27;var a=new ie.AmbientLight(16777215,.35),r=new ie.DirectionalLight(16777215,.7);r.position.set(0,500,900),n.add(a,r);var o=new ie.WebGLRenderer({alpha:!0,antialias:!1}),s=(-1!==navigator.userAgent.indexOf("Safari")&&navigator.userAgent.indexOf("Chrome"),window.devicePixelRatio);o.setPixelRatio(1===s?.5*s:.25*s),o.setSize(e,t),this.scene=n,this.camera=i,this.renderer=o,this.setupCube("leftCube",[-6.75,-29.3,0]),this.setupCube("rightCube",[6.75,-29.7,0]),this.mount.appendChild(this.renderer.domElement)}},{key:"setupCube",value:function(e,t){var n=this,i=he(t,3),a=i[0],r=i[1],o=i[2];this.loader.load("./models/cubeBigger.gltf",function(t){var i=he(t.scene.children,3)[2];i.material.color=new ie.Color("hsl(143, 100%, 48%)"),i.position.set(a,r,o),i.rotateX(.075),"rightCube"===e?i.rotateY(.075):i.rotateY(-.1),n[e]=i,n.scene.add(i),"rightCube"===e&&n.props.setAnimationCallback(n.animate)})}},{key:"animate",value:function(){if(this.props.playing){var e=he(this.props.audioManager.analyserFFT,2),t=e[0],n=e[1];this.leftCube.position.y=-29,this.rightCube.position.y=-29,le(this.leftCube,t),le(this.rightCube,n),de(this.leftCube),de(this.rightCube,-1)}else{var i=this.leftCube.position.y;i>=-28.25&&!this.animateDownL&&(this.animateDownL=!0,this.animateUpL=!1),i<=-30.25&&!this.animateUpL&&(this.animateUpL=!0,this.animateDownL=!1);var a=this.rightCube.position.y;a>=-28.25&&!this.animateDownR&&(this.animateDownR=!0,this.animateUpR=!1),a<=-30.25&&!this.animateUpR&&(this.animateUpR=!0,this.animateDownR=!1),pe(this.leftCube,.35,this.animateDownL,this.animateUpL),pe(this.rightCube,.35,this.animateDownR,this.animateUpR)}this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"cubes",ref:function(t){e.mount=t}})}}])&&ye(n.prototype,i),a&&ye(n,a),t}();we.propTypes={playing:l.a.bool.isRequired};var Te=we,ke=n(49),Se=n.n(ke),xe=n(50),Ie=n.n(xe),Ee=n(51),Oe=n.n(Ee),Ce=n(52),Le=n.n(Ce),Re=n(53),Ae=n.n(Re),De=n(54),Fe=n.n(De),Me=n(55),Pe=n.n(Me),ze=n(56),_e=n.n(ze),je=n(57),Ne=n.n(je),qe=n(58),Be=n.n(qe),He=n(59),Ue=n.n(He),Ge=new ie.CylinderGeometry(1.45,1.45,.35,12,1,!0),Ye=(new ie.TextureLoader).load(Ne.a),Ke=(new ie.TextureLoader).load(Be.a);Ye.magFilter=ie.NearestFilter,Ke.magFilter=ie.NearestFilter;var Xe=new ie.MeshBasicMaterial({lights:!1,side:ie.DoubleSide,transparent:!0,map:Ye}),We=new ie.MeshBasicMaterial({lights:!1,side:ie.DoubleSide,transparent:!0,map:Ke}),Ve=new ie.PlaneGeometry(2,2,1,1),Qe=new ie.PlaneGeometry(1.5,1.5,1,1),Ze=(new ie.TextureLoader).load(Ue.a);function Je(e,t){var n,i,a,r,o,s,u,l,c,d,p;n=e.position,i=t,a={duration:e.material.userData.animationDuration,delay:e.material.userData.animationDelay,easing:oe.Easing.Quadratic.InOut},r=i.x,o=i.y,s=i.z,u=a.easing,l=void 0===u?oe.Easing.Quadratic.In:u,c=a.delay,d=a.duration,p=void 0===d?2e3:d,new oe.Tween(n).to({x:r,y:o,z:s},p).easing(l).delay(c).start()}var $e=n(60),et=n.n($e),tt=n(61),nt=n.n(tt),it=n(62),at=n.n(it),rt=n(9),ot=n.n(rt),st=n(63),ut=n.n(st),lt=n(64),ct=n.n(lt),dt=n(65),pt=n.n(dt),ft=n(66),mt=n.n(ft),ht=function(e){return{disc:ot.a,settings:ot.a,hide:ct.a,rewind:mt.a,fastforward:ot.a,play:ot.a,repeat:ot.a,stop:pt.a,advanced:ut.a}[e.activeButton]},yt=function(e){return r.a.createElement("div",{className:"tooltips"},r.a.createElement("img",{src:ht(e)}))};yt.propTypes={activeButton:l.a.string.isRequired};var gt=yt;function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e){return(vt="function"==typeof Symbol&&"symbol"===bt(Symbol.iterator)?function(e){return bt(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":bt(e)})(e)}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function kt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Et=function(e){function t(e){var n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(a=St(t).call(this,e))||"object"!==vt(a)&&"function"!=typeof a?xt(i):a).timeOut=null,n.planes=[],n.shadowPlanes=[],n.buttonEffect=new Audio,n.buttonEffect.src=nt.a,n.highlightEffect=new Audio,n.highlightEffect.src=at.a,n.state={activeButton:"play",allowToggle:!1},n.clock=new ie.Clock,n.buttons=["disc","settings","hide","rewind","play","fastforward","repeat","stop","advanced"],d(xt(n)),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(t,r.a.Component),n=t,(i=[{key:"componentDidMount",value:function(){this.setupScene(),this.setupKeyboardListeners()}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.activeButton!==t.activeButton||(this.props.hidden!==e.hidden||this.props.paused!==e.paused||this.props.repeat!==e.repeat||this.props.playing!==e.playing)}},{key:"componentDidUpdate",value:function(e,t){if(this.state.activeButton!==t.activeButton){this.highlightEffect.currentTime=0;var n=Tt(this.menuElements[this.state.activeButton].position,2),i=n[0],a=n[1];this.orbits.pink.position.set(i,a,2),this.orbits.purple.position.set(i,a,2.03)}}},{key:"onResize",value:function(){var e=f(),t=.75*e;this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}},{key:"onMouseDown",value:function(e){if(e.stopPropagation(),!this.props.hidden){this.raycaster.setFromCamera(this.mouse,this.camera);var t=this.raycaster.intersectObjects(this.planes);if(t.length>0){var n=t[0].object.material.userData.onClick,i=t[0].object;this.triggerButtonCallback(i,n)}}}},{key:"onMouseMove",value:function(e){var t=this.renderer.domElement.getBoundingClientRect();this.mouse.x=(e.clientX-1.5*t.left)/(t.width-t.left)*2-1,this.mouse.y=-(e.clientY-t.top)/(t.bottom-t.top)*2+1,this.manageActiveButton()}},{key:"setupKeyboardListeners",value:function(){var e=this;window.addEventListener("keydown",function(t){var n=e.buttons.indexOf(e.state.activeButton);switch(t.code){case"ArrowRight":2!==n&&5!==n&&(n+=1);break;case"ArrowLeft":3!==n&&6!==n&&(n-=1);break;case"ArrowUp":n-=3;break;case"ArrowDown":n+=3;break;case"Enter":e.triggerButtonCallback(e.menuElements[e.buttons[n]],e.menuElements[e.buttons[n]].onClick);break;default:n=-1}n>=0&&n<e.buttons.length&&e.setState({activeButton:e.buttons[n]})})}},{key:"setupScene",value:function(){var e=f(),t=.75*e,n=new ie.Scene,i=new ie.PerspectiveCamera(2.5,e/t,1,500);i.aspect=e/t,i.position.z=360,i.position.y=.5,i.updateProjectionMatrix();var a=new ie.WebGLRenderer({alpha:!0,antialias:!1});a.setSize(e,t),this.mouse=new ie.Vector2,this.raycaster=new ie.Raycaster,this.scene=n,this.camera=i,this.renderer=a,this.mount.appendChild(this.renderer.domElement),this.createMenuElements(),this.setupOrbAnimation(),this.setupEventListeners(),this.props.setAnimationCallback(this.animate)}},{key:"setupEventListeners",value:function(){var e=this,t=this.renderer.domElement;window.addEventListener("resize",function(){clearTimeout(e.timeOut),e.timeOut=setTimeout(e.onResize,250)}),t.addEventListener("mousedown",function(t){return e.onMouseDown(t)},!1),t.addEventListener("mousemove",function(t){return e.onMouseMove(t)},!1)}},{key:"setupOrbAnimation",value:function(){var e=(new ie.TextureLoader).load(et.a);e.magFilter=ie.NearestFilter,e.minFilter=ie.NearestFilter,this.textureAnimator=new this.TextureAnimator(e,455,40);var t=new ie.MeshBasicMaterial({map:e,transparent:!0,name:"advanced",userData:{animationDelay:900,animationDuration:300,showShadow:!0,onClick:function(){return console.log("Hey kid, I'm a computer")}}}),n=new ie.Mesh(Ve,t);n.position.set(2.25,-4.3,1),Ze.magFilter=ie.NearestFilter,Ze.minFilter=ie.NearestFilter;var i=new ie.MeshBasicMaterial({map:Ze,transparent:!0,opacity:.5,name:name,userData:{animationDelay:900,animationDuration:300}}),a=new ie.Mesh(Qe,i);a.position.set(2.25,-4.3-1.025,.5),this.shadowPlanes.push(a),this.scene.add(a),this.planes.push(n),this.scene.add(n)}},{key:"TextureAnimator",value:function(e,t,n){var i=this;this.tilesHorizontal=t,this.numberOfTiles=t,e.wrapS=ie.RepeatWrapping,e.wrapT=ie.RepeatWrapping,e.repeat.set(1/this.tilesHorizontal,1),this.tileDisplayDuration=n,this.currentDisplayTime=0,this.currentTile=0,this.update=function(t){for(i.currentDisplayTime+=t;i.currentDisplayTime>i.tileDisplayDuration;){i.currentDisplayTime-=i.tileDisplayDuration,i.currentTile+=1,i.currentTile===i.numberOfTiles&&(i.currentTile=0);var n=i.currentTile%i.tilesHorizontal;e.offset.x=n/i.tilesHorizontal}}}},{key:"placeOrbitsInScene",value:function(){var e=new ie.Mesh(Ge,We),t=new ie.Mesh(Ge,Xe);e.position.set(0,-2.15,2),e.rotateX(.35),e.rotateZ(-.8),t.position.set(0,-2.15,2.03),t.rotateZ(.8),t.rotateX(.25),t.rotateY(1),this.orbits={pink:e,purple:t},this.scene.add(e,t)}},{key:"placeInScene",value:function(e){var t=e.name,n=void 0===t?"":t,i=e.position,a=e.onClick,r=e.mapSrc,o=e.animationDelay,s=e.animationDuration,u=e.showShadow,l=Tt(i,3),c=l[0],d=l[1],p=l[2],f=(new ie.TextureLoader).load(r);f.magFilter=ie.NearestFilter,f.minFilter=ie.NearestFilter;var m=new ie.MeshBasicMaterial({map:f,transparent:!0,name:n,userData:{onClick:a,animationDelay:o,animationDuration:s}}),h=new ie.Mesh(Ve,m);if(h.position.set(c,d,p),u){Ze.magFilter=ie.NearestFilter,Ze.minFilter=ie.NearestFilter;var y=new ie.MeshBasicMaterial({map:Ze,transparent:!0,opacity:.5,name:n,userData:{animationDelay:o,animationDuration:s}}),g=new ie.Mesh(Qe,y);g.position.set(c,d-1.025,p-.5),this.shadowPlanes.push(g),this.scene.add(g)}this.planes.push(h),this.scene.add(h)}},{key:"orbitButton",value:function(){var e=this.orbits,t=e.pink,n=e.purple;this.props.hidden?(t.material.visible=!1,n.material.visible=!1):(t.material.visible=!0,n.material.visible=!0,t.rotateY(-.065),n.rotateY(.07))}},{key:"manageActiveButton",value:function(){this.raycaster.setFromCamera(this.mouse,this.camera);var e=this.raycaster.intersectObjects(this.planes);if(e.length>0){var t=e[0].object.material.name;t&&t!==this.state.activeButton&&this.setState({activeButton:t}),document.body.classList.add("pointer")}else document.body.classList.remove("pointer")}},{key:"hideMenu",value:function(){var e=this;if(this.props.hidden)return this.showIfHidden();this.planes.forEach(function(e){var t=e.position,n=t.x,i=t.y,a=t.z;Je(e,new ie.Vector3(n,i-10,a))}),this.shadowPlanes.forEach(function(e){e.visible=!1}),this.props.hideDash(),setTimeout(function(){return e.setState({allowToggle:!0})},1400)}},{key:"animate",value:function(){se.a.update(),this.orbitButton();var e=this.clock.getDelta();this.renderer.render(this.scene,this.camera),this.textureAnimator.update(1e3*e)}},{key:"showIfHidden",value:function(){var e=this;this.state.allowToggle&&this.props.hidden&&(this.props.showIfHidden(),this.setState({allowToggle:!1}),this.planes.forEach(function(e){var t=e.position,n=t.x,i=t.y,a=t.z;Je(e,new ie.Vector3(n,i+10,a))}),setTimeout(function(){e.shadowPlanes.forEach(function(e){e.visible=!0})},1e3))}},{key:"triggerButtonCallback",value:function(e,t){new se.a.Tween(e.scale).to({x:1.5,y:1.5,z:1.5},100).easing(se.a.Easing.Quadratic.Out).start(),setTimeout(function(){new se.a.Tween(e.scale).to({x:1,y:1,z:1},100).easing(se.a.Easing.Quadratic.In).start()},250),this.buttonEffect.currentTime=0,this.buttonEffect.play(),t()}},{key:"createMenuElements",value:function(){var e,t,n,i=this,a=(e=this.props.audioManager,t=this.hideMenu,n=this.props.toggleMenu,[{name:"disc",position:[-2.25,0,1],onClick:function(){setTimeout(function(){return n()},500)},animationDuration:400,animationDelay:220,mapSrc:Se.a,showShadow:!1},{name:"settings",position:[0,0,1],onClick:function(){},animationDelay:100,animationDuration:400,mapSrc:Ie.a,showShadow:!1},{name:"hide",position:[2.25,0,1],onClick:t,animationDelay:180,animationDuration:400,mapSrc:Oe.a,showShadow:!1},{name:"rewind",position:[-2.25,-2.15,1],onClick:e.previousTrack,animationDelay:500,animationDuration:350,mapSrc:Le.a,showShadow:!1},{name:"play",position:[0,-2.15,1],onClick:e.togglePlay,animationDelay:300,animationDuration:350,mapSrc:Ae.a,showShadow:!1},{name:"fastforward",position:[2.25,-2.15,1],onClick:e.nextTrack,animationDelay:280,animationDuration:350,mapSrc:Fe.a},{name:"repeat",position:[-2.25,-4.3,1],onClick:e.toggleRepeat,animationDelay:600,animationDuration:300,mapSrc:_e.a,showShadow:!0},{name:"stop",position:[0,-4.3,1],onClick:e.stop,animationDelay:700,animationDuration:300,mapSrc:Pe.a,showShadow:!0}]);a.forEach(function(e){return i.placeInScene(e)}),this.menuElements=a.reduce(function(e,t){var n=t.name,i=t.position;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){wt(e,t,n[t])})}return e}(wt({},n,{onClick:t.onClick,position:i}),e)},{}),this.menuElements.advanced={onClick:function(){},position:[2.25,-4.3,1]},this.placeOrbitsInScene()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{onClick:this.showIfHidden,className:"menu",ref:function(t){e.mount=t}}),r.a.createElement(gt,{activeButton:this.state.activeButton}))}}])&&kt(n.prototype,i),a&&kt(n,a),t}();Et.propTypes={toggleMenu:l.a.func.isRequired,repeat:l.a.oneOf(["off","context","track"]).isRequired,hideDash:l.a.func.isRequired,hidden:l.a.bool.isRequired,showIfHidden:l.a.func.isRequired};var Ot=Et,Ct=n(18),Lt=function(){return r.a.createElement("svg",{version:"1.0",width:"400pt",height:"400pt",viewBox:"0 0 75 75",style:{width:"20px",height:"20px"}},r.a.createElement("g",{stroke:"#FFF",strokeWidth:"5"},r.a.createElement("path",{strokeLinejoin:"round",fill:"#FFF",d:"M39.389 13.769L22.235 28.606H6v19.093h15.989l17.4 15.051V13.769z"}),r.a.createElement("path",{d:"M48.128 49.03c1.929-3.096 3.062-6.739 3.062-10.653 0-3.978-1.164-7.674-3.147-10.8M55.082 20.537c3.695 4.986 5.884 11.157 5.884 17.84 0 6.621-2.151 12.738-5.788 17.699M61.71 62.611c5.267-6.666 8.418-15.08 8.418-24.233 0-9.217-3.192-17.682-8.519-24.368",fill:"none",strokeLinecap:"round"})))},Rt=function(){return r.a.createElement("svg",{viewBox:"0 -256 1792 1792",style:{width:"100%"}},r.a.createElement("path",{d:"M709.42373 455.0508v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-576q0-14 9-23t23-9h64q14 0 23 9t9 23zm256 0v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-576q0-14 9-23t23-9h64q14 0 23 9t9 23zm256 0v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-576q0-14 9-23t23-9h64q14 0 23 9t9 23zm128 724v-948h-896v948q0 22 7 40.5t14.5 27q7.5 8.5 10.5 8.5h832q3 0 10.5-8.5t14.5-27q7-18.5 7-40.5zm-672-1076h448l-48-117q-7-9-17-11h-317q-10 2-17 11zm928 32v64q0 14-9 23t-23 9h-96v948q0 83-47 143.5t-113 60.5h-832q-66 0-113-58.5t-47-141.5v-952h-96q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h309l70-167q15-37 54-63t79-26h320q40 0 79 26t54 63l70 167h309q14 0 23 9t9 23z",fill:"currentColor"}))},At=n(67),Dt=n.n(At),Ft=n(68),Mt=n.n(Ft);function Pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}async function zt(e){var t;try{t=await function(e){return new Promise(function(t,n){Dt.a.read(e,{onSuccess:function(e){return t(e)},onError:function(e){return n(e)}})})}(e)}catch(e){console.log("Fetching Tags Error",e)}var n=t.tags,i=(n=void 0===n?{}:n).artist,a=void 0===i?"":i,r=n.album,o=void 0===r?"":r,s=n.title,u=void 0===s?e.name:s,l=n.track;return{file:e,track:void 0===l?0:l,artist:a,album:o,title:u}}async function _t(e){var t;try{t=await async function(e){var t=e.extensions,n=void 0===t?null:t,i=e.allowDirectory,a=void 0!==i&&i;return new Promise(function(e){var t=document.createElement("input");n&&t.setAttribute("accept",n),t.type="file",t.multiple=!0,t.webkitdirectory=a,t.directory=a,t.mozdirectory=a,t.addEventListener("change",function(t){e(t.target.files)}),t.click()})}(e)}catch(e){console.log(e)}return await async function(e){var t=[],n=!0,i=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;s.type.includes("audio")&&t.push(zt(s))}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return(await Promise.all(t)).reduce(function(e,t){return e[Mt()()]=t,e},{})}(t)}function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"===jt(Symbol.iterator)?function(e){return jt(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":jt(e)})(e)}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Ht(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kt=function(e){function t(e){var n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(a=Ut(t).call(this,e))||"object"!==Nt(a)&&"function"!=typeof a?Gt(i):a).onDragEnd=n.onDragEnd.bind(Gt(n)),n}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(t,a["Component"]),n=t,(i=[{key:"onDragEnd",value:function(e){if(e.destination){var t=function(e,t,n){var i=Array.from(e),a=Pt(i.splice(t,1),1)[0];return i.splice(n,0,a),i}(this.props.audio.playlist,e.source.index,e.destination.index);this.props.setCurrentTrack(e.destination.index),this.props.arrangeTracks(t)}}},{key:"getTracks",value:async function(){var e=await _t({extensions:".mp3, .m4a, .flac, .wav, .aac"});this.props.addTracks(e)}},{key:"getDirectory",value:async function(){var e=await _t({extensions:".mp3, .wav, .aac",allowDirectory:!0});this.props.addTracks(e)}},{key:"render",value:function(){var e=this,t=this.props.audio,n=t.currentTrack,i=t.playing,a=t.playlist,o=t.tracks;return r.a.createElement("div",{className:"FileReader"},r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,"Edit Playlist"),r.a.createElement("h3",null,"Drag to reorder tracks"),r.a.createElement("div",{className:"playlists"},r.a.createElement(Ct.a,{onDragEnd:this.onDragEnd},r.a.createElement(Ct.c,{droppableId:"droppable"},function(t){return r.a.createElement("div",{ref:t.innerRef},a.map(function(t,s){var u=o[t],l=u.artist,c=u.album,d=u.title,p=i&&t===a[n];return r.a.createElement(Ct.b,{key:t,draggableId:t,index:s},function(t,n){var i,a=n.isDragging;return r.a.createElement("div",Bt((qt(i={className:"draggable"},"className",function(e){var t=e.isDragging,n=e.currentPlaying;return"draggable ".concat(t?"isDragging":""," ").concat(n?"currentTrack":"")}({isDragging:a,currentPlaying:p})),qt(i,"ref",t.innerRef),i),t.draggableProps,t.dragHandleProps),r.a.createElement("div",null,p&&r.a.createElement(Lt,null)),r.a.createElement("div",null,d),r.a.createElement("div",null,l),r.a.createElement("div",null,c),r.a.createElement("button",{className:"icon-button",onClick:function(){return e.props.removeTrack(s)},type:"button"},r.a.createElement(Rt,null)))})}),t.placeholder)}))),r.a.createElement("button",{className:"add-files",type:"button",onClick:function(){return e.getDirectory()}},"Add a directory"),r.a.createElement("button",{className:"add-files",type:"button",onClick:function(){return e.getTracks()}},"Add file(s)"),r.a.createElement("button",{type:"button",onClick:this.props.toggleMenu},"Close")))}}])&&Ht(n.prototype,i),o&&Ht(n,o),t}();Kt.propTypes={audio:l.a.shape({tracks:l.a.object.isRequired,playlist:l.a.array.isRequired}).isRequired,arrangeTracks:l.a.func.isRequired,addTracks:l.a.func.isRequired,removeTrack:l.a.func.isRequired,toggleMenu:l.a.func.isRequired};var Xt=Kt,Wt=n(72),Vt=n.n(Wt),Qt=n(73),Zt=n.n(Qt);function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var $t=function(e){var t,n,i,o=e.audioManager,s=e.currentTrack,u=Jt(Object(a.useState)(0),2),l=u[0],c=u[1];return t=function(){c(o.currentTime)},n=1e3,i=Object(a.useRef)(),Object(a.useEffect)(function(){i.current=t}),Object(a.useEffect)(function(){if(null!==n){var e=setInterval(function(){i.current()},n);return function(){return clearInterval(e)}}},[n]),r.a.createElement("header",null,r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"track"},r.a.createElement("img",{src:Zt.a,alt:"TODO"}),r.a.createElement("div",{className:"track-number"},"".concat(s+1))),r.a.createElement("div",{className:"time"},r.a.createElement("img",{src:Vt.a,alt:"TODO"})),r.a.createElement("div",{className:"timer"},m(l))),r.a.createElement("div",{className:"knight-rider"}))};function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e){return(tn="function"==typeof Symbol&&"symbol"===en(Symbol.iterator)?function(e){return en(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":en(e)})(e)}function nn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sn=function(e){function t(e){var n,i,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,a=an(t).call(this,e),(n=!a||"object"!==tn(a)&&"function"!=typeof a?rn(i):a).timeOut=null,d(rn(n));var r=new ie.BufferGeometry,o=new Float32Array([-1,-1,1,1,-1,1,1,1,1,1,1,1,-1,1,1,-1,-1,1]);r.addAttribute("position",new ie.BufferAttribute(o,3)),n.blueMaterial=new ie.MeshBasicMaterial({color:7707903}),n.redMaterial=new ie.MeshBasicMaterial({color:16741754}),n.yellowMaterial=new ie.MeshBasicMaterial({color:15589691}),n.whiteMaterial=new ie.MeshBasicMaterial({color:16777215}),n.starGeometry=r;var s=f(),u=window.innerHeight;return n.width=1.75*s,n.height=1.75*u,window.addEventListener("resize",function(){clearTimeout(n.timeOut),n.timeOut=setTimeout(n.onResize,250)}),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&on(e,t)}(t,r.a.Component),n=t,(i=[{key:"componentDidMount",value:function(){this.setupScene()}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.hidden!==e.hidden}},{key:"onResize",value:function(){var e=f(),t=window.innerHeight;this.width=1.75*e,this.height=1.75*t,this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}},{key:"setupScene",value:function(){var e=f(),t=window.innerHeight,n=new ie.Scene,i=new ie.PerspectiveCamera(100,e/t,1,1e3),a=new ie.DirectionalLight(16777215,3),r=new ie.DirectionalLight(16777215,2),o=new ie.DirectionalLight(16777215,2);a.position.set(-10,46,600),r.position.set(-200,46,500),o.position.set(200,46,500),n.add(a,r,o);var s=new ie.WebGLRenderer({alpha:!0,antialias:!1});s.setClearColor(16777215),i.position.z=500;var u=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome"),l=window.devicePixelRatio;s.setPixelRatio(1===l||u?.65*l:.25*l),s.setSize(e,t),s.setClearColor(0,0),this.camera=i,this.renderer=s,this.scene=n,this.stars=this.stars||[],this.mount.appendChild(this.renderer.domElement),this.setupSpaceShip(),this.addStars(),this.props.setAnimationCallback(this.animate)}},{key:"setupSpaceShip",value:function(){var e=this;(new re.a).load("./models/saturn_v1.gltf",function(t){var n=t.scene;n.position.set(2.5,-3.5,520),n.rotateZ(3.5),n.rotateY(Math.PI),n.visible=!1;var i=n.children[1].material.map;i.magFilter=ie.LinearFilter,i.minFilter=ie.LinearFilter,i.generateMipmaps=!1,e.spaceShip=n,window.ship=n,e.scene.add(n)})}},{key:"animate",value:function(){this.animateStars(),this.renderScene(),this.spaceShip&&(this.props.hidden?(this.spaceShip.visible=!0,this.spaceShip.rotateZ(.01),this.spaceShip.position.z-=.075,this.spaceShip.position.z<300&&(this.spaceShip.position.z=520)):this.spaceShip.visible=!1)}},{key:"addStars",value:function(){for(var e=-500;e<500;e+=15){var t=this.whiteMaterial;e>0&&e<100?t=this.redMaterial:e>100&&e<200?t=this.yellowMaterial:e>100&&e<200&&(t=this.blueMaterial);var n=new ie.Mesh(this.starGeometry,t);n.position.x=y(this.width),n.position.y=y(this.height),n.position.z=e,n.scale.set(h(),h(),1),this.scene.add(n),this.stars.push(n)}}},{key:"animateStars",value:function(){var e=this;this.stars.forEach(function(t){var n=t;n.position.z+=4*Math.random()+8,n.position.z>550&&(n.position.z-=800,n.position.x=y(e.width),n.position.y=y(e.height))})}},{key:"renderScene",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"StarField"},r.a.createElement("div",{ref:function(t){e.mount=t}}))}}])&&nn(n.prototype,i),a&&nn(n,a),t}();function un(e){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ln(e){return(ln="function"==typeof Symbol&&"symbol"===un(Symbol.iterator)?function(e){return un(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":un(e)})(e)}function cn(){return(cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function dn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function pn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hn(e,t){return(hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yn=function(e){function t(e){var n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,n=!(a=fn(t).call(this,e))||"object"!==ln(a)&&"function"!=typeof a?mn(i):a,d(mn(n)),n.audioManager=new ne,n.state={show:!1,hidden:!1,menuVisible:!1,frameCallbacks:[]},n.frameId=null,n}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hn(e,t)}(t,a["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){this.frameId=requestAnimationFrame(this.animate)}},{key:"getClassNames",value:function(){var e=this.props.audio,t=e.playing,n=e.paused,i=this.state.hidden?"hidden":"",a=n?"paused":"",r=t?"playing":"",o=this.state.show?"show":"";return"".concat(i," ").concat(a," ").concat(r," ").concat(o)}},{key:"hideDash",value:function(){this.setState(function(e){return{hidden:!e.hidden,show:!1}})}},{key:"showIfHidden",value:function(){this.state.hidden&&(this.frameId=this.frameId||requestAnimationFrame(this.animate),this.setState({hidden:!1,show:!0}))}},{key:"appeaseSafari",value:function(){"suspended"===this.audioManager.analyser.audioContext.state&&this.audioManager.analyser.audioContext.resume()}},{key:"setAnimationCallback",value:function(e){this.setState(function(t){return{frameCallbacks:[].concat(dn(t.frameCallbacks),[e])}})}},{key:"animate",value:function(){this.state.frameCallbacks.forEach(function(e){return e()}),this.frameId=requestAnimationFrame(this.animate)}},{key:"toggleMenu",value:function(){this.frameId?(cancelAnimationFrame(this.frameId),this.frameId=void 0):requestAnimationFrame(this.animate),this.setState(function(e){return{menuVisible:!e.menuVisible}})}},{key:"render",value:function(){var e=this,t=this.props.audio,n=t.playing,a=t.paused,o=t.repeat;return r.a.createElement("div",{className:this.getClassNames(),onClick:function(){return e.appeaseSafari()}},r.a.createElement($t,{currentTrack:this.props.audio.currentTrack,audioManager:this.audioManager}),r.a.createElement(Ot,{audioManager:this.audioManager,hidden:this.state.hidden,showIfHidden:this.showIfHidden,toggleMenu:this.toggleMenu,hideDash:this.hideDash,repeat:o,paused:a,playing:n,setAnimationCallback:this.setAnimationCallback}),r.a.createElement("div",{className:"dashboard"}),r.a.createElement(Te,{audioManager:this.audioManager,paused:a,playing:n,setAnimationCallback:this.setAnimationCallback}),this.props.toast&&r.a.createElement("p",null,this.props.toast),r.a.createElement(sn,{hidden:this.state.hidden,setAnimationCallback:this.setAnimationCallback}),this.state.menuVisible&&r.a.createElement("div",{className:"overlay"},r.a.createElement(Xt,cn({audio:this.props.audio},i,{toggleMenu:this.toggleMenu}))))}}])&&pn(n.prototype,o),s&&pn(n,s),t}();yn.propTypes={audio:l.a.shape({currentTrack:l.a.number,playing:l.a.bool.isRequired,paused:l.a.bool.isRequired,repeat:l.a.oneOf(["off","context","track"]).isRequired}).isRequired};var gn=Object(c.b)(function(e){return{audio:e.audio}})(yn),bn=n(4),vn=Object(bn.c)({audio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLAYING":return U({},e,{playing:!0,paused:!1});case"PAUSED":return U({},e,{playing:!1,paused:!0});case"TOGGLE_REPEAT":return U({},e,{repeat:t.data.repeat});case"SET_CURRENT_TRACK":return U({},e,{currentTrack:t.data.trackIndex});case"ADD_TRACKS":return U({},e,{tracks:U({},e.tracks,t.data.tracks),playlist:[].concat(H(e.playlist),H(Object.keys(t.data.tracks).sort(function(e,n){var i=t.data.tracks[e],a=t.data.tracks[n];return i.album>a.album?1:i.album<a.album?-1:i.track>a.track?1:i.track<a.track?-1:void 0})))});case"ARRANGE_TRACKS":return U({},e,{playlist:t.data.playlist});case"REMOVE_TRACK":var n=e.playlist[t.datatrackIndex],i=e.tracks,a=(i[n],q(i,[n].map(B)));return U({},e,{playlist:[].concat(H(e.playlist.slice(0,t.data.trackIndex)),H(e.playlist.slice(t.data.trackIndex+1))),tracks:U({},a)});default:return e}}});n(122);n.d(t,"store",function(){return wn});var wn=Object(bn.e)(vn,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(r.a.createElement(c.a,{store:wn},r.a.createElement(gn,null)),document.getElementById("root"))}]);