webpackJsonp([0],{140:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){Object.getOwnPropertyNames(e.constructor.prototype).forEach(function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))})}},663:function(e,t,n){"use strict";var r=a(n(7)),o=a(n(177)),i=a(n(664));function a(e){return e&&e.__esModule?e:{default:e}}n(676),o.default.render(r.default.createElement(i.default,null),document.getElementById("root"))},664:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=w(i),u=n(201),c=n(203),s=n(130),l=n(71),f=n(131),d=n(134),m=n(93),p=n(139),h=w(n(140)),y=w(n(665)),v=w(n(666)),b=w(n(675));function w(e){return e&&e.__esModule?e:{default:e}}var g=function(){return function(e){return e.reduce(function(e,t){return e+t},0)/e.length}}(),S=function(){return function(e){return Math.trunc(e/60).toString().padStart(2,"0")+":"+Math.trunc(e%60).toString().padStart(2,"0")}}(),E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={audio:void 0,currentTime:0},(0,h.default)(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){return function(){this.setupScene(),this.volumeLeft=1,this.volumeRight=1}}()},{key:"componentWillUnmount",value:function(){return function(){this.stop(),this.mount.removeChild(this.renderer.domElement)}}()},{key:"onResize",value:function(){return function(){var e=window.innerWidth>1e3?1e3:window.innerWidth,t=.75*e;this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}}()},{key:"setupScene",value:function(){return function(){var e=window.innerWidth>1e3?1e3:window.innerWidth,t=.75*e,n=new s.Scene,r=new l.PerspectiveCamera(20,e/t,1,1e3);r.position.z=45,r.position.y=-28.5;var o=new u.AmbientLight(16777215,.35),i=new c.DirectionalLight(16777215,.7);i.position.set(0,0,900),n.add(o,i);var a=new p.WebGLRenderer({alpha:!0,antialias:!1});a.setPixelRatio(.25*window.devicePixelRatio),a.setSize(e,t),a.setClearColor(0,0),this.scene=n,this.camera=r,this.renderer=a,this.mount.appendChild(this.renderer.domElement),this.start(),this.addCubes(),this.analyzeAudio(),window.addEventListener("resize",this.onResize,!1)}}()},{key:"start",value:function(){return function(){this.frameId=this.frameId||requestAnimationFrame(this.animate)}}()},{key:"stop",value:function(){return function(){cancelAnimationFrame(this.frameId)}}()},{key:"addCubes",value:function(){return function(){var e=new f.BoxGeometry(1,1,1,1,1,1),t=new d.MeshLambertMaterial({color:6941304}),n=new m.Mesh(e,t),r=new m.Mesh(e,t);this.leftCube=n,this.rightCube=r,this.geometry=e,this.scene.add(n,r),n.position.set(-7,-30,0),r.position.set(7,-30,0),r.rotateY(.75),r.rotateX(.015),n.rotateX(.015)}}()},{key:"rotateCubes",value:function(){return function(){this.leftCube.rotation.x+=Math.random()*(.03-.01)+.01,this.leftCube.rotation.y+=Math.random()*(.03-.01)+.01,this.rightCube.rotation.x-=Math.random()*(.03-.01)+.01,this.rightCube.rotation.y-=Math.random()*(.03-.01)+.01}}()},{key:"scaleCubes",value:function(){return function(){var e=.01*this.volumeLeft+1,t=.01*this.volumeRight+1;this.leftCube.scale.set(t,t,t),this.rightCube.scale.set(e,e,e)}}()},{key:"analyzeAudio",value:function(){return function(){var e=this,t=new Audio;t.crossOrigin="Anonymous",t.src="/src/songs/sample.mp3",t.play();var n=new AudioContext,r=n.createMediaElementSource(t),o=n.createAnalyser(),i=n.createAnalyser();o.fftSize=32,o.smoothingTimeConstant=.3,i.fftSize=32,i.smoothingTimeConstant=.3;var a=n.createChannelSplitter(2);r.connect(a),a.connect(i,1,0),a.connect(o,0,0),o.connect(n.destination),i.connect(n.destination);var u=o.frequencyBinCount,c=new Uint8Array(u),s=i.frequencyBinCount,l=new Uint8Array(s);(function n(){requestAnimationFrame(n),o.getByteFrequencyData(c),i.getByteFrequencyData(l),e.volumeLeft=g(c),e.volumeRight=g(l),e.setState({currentTime:S(t.currentTime)})})(),this.audio=t,this.setState({audio:t})}}()},{key:"animate",value:function(){return function(){this.rotateCubes(),this.scaleCubes(),this.renderScene(),this.frameId=window.requestAnimationFrame(this.animate)}}()},{key:"renderScene",value:function(){return function(){this.renderer.render(this.scene,this.camera)}}()},{key:"render",value:function(){return function(){var e=this,t=this.state.currentTime;return a.default.createElement("div",null,a.default.createElement("header",null,a.default.createElement("div",{className:"time"},a.default.createElement("img",{src:b.default})),a.default.createElement("div",{className:"timer"},t)),a.default.createElement("div",{id:"canvas"}),a.default.createElement("div",{className:"cubes",ref:function(t){e.mount=t}}),a.default.createElement(v.default,{audio:this.state.audio}),a.default.createElement("div",{className:"dashboard"}),a.default.createElement(y.default,null))}}()}]),t}();t.default=E},665:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=p(i),u=n(130),c=n(71),s=n(131),l=n(134),f=n(93),d=n(139),m=p(n(140));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){return function(){return 2*Math.random()+4}}(),y=function(){return function(){return 1e3*Math.random()-500}}(),v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){return function(){this.setupScene()}}()},{key:"componentWillUnmount",value:function(){return function(){this.mount.removeChild(this.renderer.domElement),this.stop()}}()},{key:"onResize",value:function(){return function(){var e=window.innerWidth>1e3?1e3:window.innerWidth,t=window.innerHeight;this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}}()},{key:"setupScene",value:function(){return function(){var e=window.innerWidth>1e3?1e3:window.innerWidth,t=window.innerHeight,n=new u.Scene,r=new c.PerspectiveCamera(100,e/t,1,1e3),o=new d.WebGLRenderer({alpha:!0,antialias:!1});r.position.z=500,o.setPixelRatio(.25*window.devicePixelRatio),o.setSize(e,t),o.setClearColor(0,0),this.camera=r,this.renderer=o,this.scene=n,this.stars=this.stars||[],this.mount.appendChild(this.renderer.domElement),this.start(),this.addStars(),window.addEventListener("resize",this.onResize,!1)}}()},{key:"start",value:function(){return function(){this.frameId=this.frameId||requestAnimationFrame(this.animate)}}()},{key:"stop",value:function(){return function(){cancelAnimationFrame(this.frameId)}}()},{key:"animate",value:function(){return function(){this.animateStars(),this.renderScene(),this.frameId=window.requestAnimationFrame(this.animate)}}()},{key:"addStars",value:function(){return function(){for(var e=new s.BoxGeometry(.75,.75,.75),t=-1e3;t<1e3;t+=20){var n=void 0;n=t>0&&t<20?new l.MeshBasicMaterial({color:16741754}):new l.MeshBasicMaterial({color:16777215});var r=new f.Mesh(e,n);r.position.x=y(),r.position.y=y(),r.position.z=t,r.scale.set(h(),h(),1),this.scene.add(r),this.stars.push(r)}}}()},{key:"animateStars",value:function(){return function(){this.stars.forEach(function(e){var t=e;t.position.z+=4*Math.random()+4,t.position.z>1e3&&(t.position.z-=1100,t.position.x=y(),t.position.y=y())})}}()},{key:"renderScene",value:function(){return function(){this.renderer.render(this.scene,this.camera)}}()},{key:"render",value:function(){return function(){var e=this;return a.default.createElement("div",{className:"StarField"},a.default.createElement("div",{ref:function(t){e.mount=t}}))}}()}]),t}();t.default=v},666:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=y(i),u=(y(n(15)),y(n(667))),c=y(n(668)),s=y(n(669)),l=y(n(670)),f=y(n(671)),d=y(n(672)),m=y(n(673)),p=y(n(140)),h=y(n(674));function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"playOrPause",value:function(){return function(){var e=this.props.audio;e.paused||e.ended?e.play():e.pause()}}()},{key:"rewind",value:function(){return function(){this.props.audio.currentTime=0}}()},{key:"stop",value:function(){return function(){var e=this.props.audio;e.pause(),e.currentTime=0}}()},{key:"toggleRepeat",value:function(){return function(){var e=this.props.audio,t=e.loop;e.loop=!t}}()},{key:"render",value:function(){return function(){return a.default.createElement("ul",null,a.default.createElement(h.default,{className:"gold",icon:u.default}),a.default.createElement(h.default,{className:"gold",icon:u.default}),a.default.createElement(h.default,{className:"gold",icon:m.default}),a.default.createElement(h.default,{className:"middle rewind",icon:l.default,callback:this.rewind}),a.default.createElement(h.default,{className:"middle play-pause",icon:c.default,callback:this.playOrPause}),a.default.createElement(h.default,{className:"middle fast-forward",icon:s.default}),a.default.createElement(h.default,{className:"bottom repeat",icon:d.default,callback:this.toggleRepeat}),a.default.createElement(h.default,{className:"bottom stop",icon:f.default,callback:this.stop}),a.default.createElement(h.default,{className:"bottom globe"}))}}()}]),t}();t.default=v},667:function(e,t,n){e.exports=n.p+"/images/spotify.png"},668:function(e,t,n){e.exports=n.p+"/images/play-pause.png"},669:function(e,t,n){e.exports=n.p+"/images/ffwd.png"},670:function(e,t,n){e.exports=n.p+"/images/rwd.png"},671:function(e,t,n){e.exports=n.p+"/images/stop.png"},672:function(e,t,n){e.exports=n.p+"/images/repeat.png"},673:function(e,t,n){e.exports=n.p+"/images/visualizer.png"},674:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(7)),o=i(n(15));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){return function(e){var t=e.icon,n=e.className,o=e.callback;return r.default.createElement("li",null,r.default.createElement("button",{className:n,onClick:function(){return o()}},t&&r.default.createElement("img",{src:t,alt:"TODO"})))}}();a.defaultProps={callback:function(){return function(){}}(),className:"",icon:""},a.propTypes={icon:o.default.string,className:o.default.string,callback:o.default.func},t.default=a},675:function(e,t,n){e.exports=n.p+"/images/time.png"},676:function(e,t){}},[663]);
//# sourceMappingURL=app.896632fd90905013c587.js.map