!function(e){function t(t){for(var a,o,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(u&&u(t);p.length;)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={0:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="./";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;r.push([81,1]),n()}({36:function(e,t,n){"use strict";n.r(t),t.default=n.p+"images/baffb4fed1442e55e4b55215d1df2165.png"},37:function(e,t,n){"use strict";n.r(t),t.default=n.p+"images/8499926526ed8b51c05734fea5c3a186.png"},70:function(e,t,n){var a=n(71),i=n(72);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};a(i,r);e.exports=i.locals||{}},72:function(e,t,n){var a=n(73),i=n(74),r=n(75),o=n(76),s=n(77),c=n(78),l=n(79),u=n(36),d=n(37),p=n(80);t=a(!1);var h=i(r),f=i(o),m=i(s),g=i(c),v=i(l),y=i(u),b=i(d),w=i(p);t.push([e.i,'@font-face{font-family:"Phoebe";src:url('+h+')}@font-face{font-family:"PhoebeJP";src:url('+f+')}@font-face{font-family:"ChibiPhoebe";src:url('+m+')}@font-face{font-family:"Phoebe Condensed Bold";src:url('+g+')}*{box-sizing:border-box;font-size:inherit;text-rendering:geometricPrecision;font-weight:100}html{height:calc(var(--vh, 1vh) * 100);overflow:hidden}body{font-family:"Phoebe", "Monaco", monospace;font-size:22px;line-height:1.3;height:calc(var(--vh, 1vh) * 100);overflow:hidden;color:#444;margin:0;background:black}body .intro{filter:brightness(0);animation-name:menuBrightness;animation-duration:1s;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-out;animation-delay:500ms}@keyframes menuBrightness{from{filter:brightness(0)}to{filter:brightness(1)}}p{margin-top:0}.pointer{cursor:pointer}#root{width:100%;height:100%;height:calc(var(--vh, 1vh) * 100);max-width:133.333vh;max-width:calc(var(--vh, 1vh) * 133.33);margin:0 auto;overflow:hidden}#root>div{height:100%;width:100%;position:relative}canvas{position:absolute;bottom:0;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated}.cubes canvas{z-index:89}.menu canvas{z-index:90}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(-360deg)}}.StarField{top:0;width:100%;height:100%;position:absolute}.StarField:after{content:"";background:url('+v+') no-repeat;background-size:cover;background-color:black;position:absolute;left:-35%;right:-35%;top:-35%;bottom:-35%;animation-name:spin;animation-duration:500s;animation-iteration-count:infinite;animation-timing-function:linear;z-index:-1}.StarField canvas{position:relative;top:0;left:0;right:0;bottom:0;z-index:1}@keyframes fadeInOut{0%{opacity:0}10%{opacity:1}75%{opacity:1}100%{opacity:0}}@keyframes fadeOut{from{opacity:1}to{opacity:0;pointer-events:none}}.dashboard,.dashboard:after{content:"";background:url('+y+") no-repeat;background-size:100% 47%;background-position:0 100%;position:absolute;left:0;bottom:0;width:50%;z-index:20;padding-bottom:91%;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated}.dashboard:after{left:99.9%;top:0;transform:scale(-1, 1);width:100%}@keyframes knight-rider{0%{transform:translateX(0) scaleX(0)}5%{transform:translateX(50%) scaleX(1)}90%{transform:translateX(690%) scaleX(1)}100%{transform:translateX(710%) scaleX(0)}}header{user-select:none;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated;width:79.5%;margin:0 auto;position:relative;padding:2% 13.5% 0;display:flex;height:calc(calc(var(--scene-width) * 0.795) * 0.1417322835);z-index:10;color:#014949}header:before{background:url("+b+') top center/100% no-repeat;width:100%;position:absolute;top:0;left:0;height:100%;z-index:-1;content:""}header:after{display:none;content:"";background:url('+w+') no-repeat;background-position:center center;background-size:100% 100%;height:12%;width:8%;bottom:5%;position:absolute;animation-name:knight-rider;animation-duration:1000ms;animation-iteration-count:infinite;animation-timing-function:linear;z-index:-2}header h3{margin:0;display:inline-block;font-size:calc(var(--scene-width) / 35);letter-spacing:2px;text-transform:uppercase;font-family:"Phoebe Condensed Bold";line-height:1}header p{line-height:1;margin:0;letter-spacing:2px;padding-left:2%;font-size:calc(var(--scene-width) / 18);display:inline-block}header h3:nth-of-type(2){margin-left:25%}.playing header:after{display:inline-block}.music-picker{background:white}.exit-button{border-radius:3px;box-shadow:0 0 0 2px rgba(53,59,101,0.8),0 0 0 3.5px rgba(149,149,149,0.8),0 0 0 5px rgba(53,59,101,0.8);display:block;margin:0 auto;margin-top:auto;color:white;font-family:Phoebe;font-size:36px;padding:14px 14px 10px;background-color:rgba(93,21,122,0.8);border:0}@keyframes floatDownRelative{from{transform:translateY(0%)}to{transform:translateY(100%)}}@keyframes floatUpRelative{from{transform:translateY(0%)}to{transform:translateY(-105%)}}@keyframes floatDownButtons{from{transform:translateY(0%)}to{transform:translateY(50vh)}}@keyframes blink{0%{opacity:0}49%{opacity:0}50%{opacity:1}}.hidden .toast{animation:blink 1s infinite, fadeOut 0ms linear 3s 1 forwards running !important}.hidden header{animation-name:floatUpRelative;animation-duration:1000ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-out}.hidden .dashboard,.hidden .cubes canvas,.hidden li{animation-name:floatDownRelative;animation-duration:2000ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}.hidden li{animation-name:floatDownButtons;animation-duration:400ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:ease-in}.hidden li:nth-child(1){animation-delay:1400ms;animation-duration:300ms}.hidden li:nth-child(2){animation-delay:1300ms;animation-duration:300ms}.hidden li:nth-child(3){animation-delay:1100ms;animation-duration:300ms}.hidden li:nth-child(4){animation-delay:780ms;animation-duration:350ms}.hidden li:nth-child(5){animation-delay:800ms;animation-duration:350ms}.hidden li:nth-child(6){animation-delay:1000ms;animation-duration:350ms}.hidden li:nth-child(7){animation-delay:680ms}.hidden li:nth-child(8){animation-delay:600ms}.hidden li:nth-child(9){animation-delay:720ms}.hidden li button.bottom:after,.hidden li a.bottom:after{animation-name:fadeOut;animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}.hidden .tooltips{display:none !important}@keyframes toolTip{from{opacity:1}to{opacity:0}}.tooltips p{color:black;position:absolute;background:rgba(255,255,255,0.5);left:50%;transform:translate(-50%, 0) scale(0.8, 1);bottom:0;z-index:70;padding:6px 8px 0;text-align:center;line-height:calc(var(--scene-width) / 18);font-size:calc(var(--scene-width) / 18);display:inline-block;margin:0 0 15px;z-index:99;animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear;animation-delay:10s;white-space:nowrap;user-select:none}.tooltips img{height:30px;width:auto;bottom:20px;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:-o-crisp-edges;image-rendering:pixelated}.tooltips strong{font-weight:100;color:#ff2034}blink{animation:blink 1s infinite}.toast{position:fixed;left:50%;top:40%;transform:translate(-50%, -50%);width:6em;z-index:9999}.paused header:after{display:inline-block;transform:translate(350%, 0);animation-play-state:paused}.paused .toast,.paused header p:nth-of-type(2),.paused header:after{animation:blink 1s infinite}@keyframes floatInRelative{from{transform:translateY(100%)}to{transform:translateY(0%)}}@keyframes floatDownInRelative{from{transform:translateY(-105%)}to{transform:translateY(0%)}}@keyframes floatInButtons{from{transform:translateY(50vh)}to{transform:translateY(0%)}}.show header{animation-name:floatDownInRelative;animation-duration:600ms;animation-iteration-count:1;animation-fill-mode:backwards;animation-timing-function:linear;animation-delay:700ms}.show .dashboard,.show .cubes canvas{animation-name:floatInRelative;animation-duration:1500ms;animation-iteration-count:1;animation-fill-mode:backwards;animation-timing-function:linear;animation-delay:0}.show li button.bottom:after,.show li a.bottom:after{animation-name:fadeOut;animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}.flip{transform:scaleX(-1);display:inline-block}.current-track-info{font-size:12px;color:white;position:absolute;bottom:50vw;left:10px;z-index:999;opacity:0;text-transform:uppercase;animation-name:fadeInOut;animation-duration:12s;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:linear}@media screen and (min-width: 800px){.current-track-info{bottom:10px;left:10px}}.current-track-info p{margin:0}.current-track-info a{text-decoration:underline;font-weight:normal;color:white}.start-context{position:fixed;z-index:9999;background:rgba(10,5,25,0.5);left:0;right:0;bottom:0;top:0;display:flex;text-align:center;align-items:center;justify-content:center;font-size:16px}.start-context button{transition:background-color 250ms ease;background:none;border:1px solid white;color:white;padding:0.5em 1.5em;color:white;border-radius:2px;background:rgba(0,0,0,0.75);box-shadow:0 5px 20px 10px rgba(255,255,255,0.2)}.start-context button span{display:block;margin-bottom:8px;padding-bottom:8px;border-bottom:0.5px solid white}.start-context button:hover,.start-context button:active{background:rgba(255,255,255,0.25);cursor:pointer}.japanese .FileReader h2{font-family:"PhoebeJP", sans-serif}.japanese .tooltips p{line-height:calc(var(--scene-width) / 20);font-size:calc(var(--scene-width) / 20);font-family:"PhoebeJP", sans-serif;padding-bottom:8px}\n',""]),e.exports=t},75:function(e,t,n){"use strict";n.r(t),t.default=n.p+"fonts/PhoebeV4.ttf"},76:function(e,t,n){"use strict";n.r(t),t.default=n.p+"fonts/PhoebeJP.ttf"},77:function(e,t,n){"use strict";n.r(t),t.default=n.p+"fonts/ChibiPhoebe.ttf"},78:function(e,t,n){"use strict";n.r(t),t.default=n.p+"fonts/PhoebeCondesnedB.ttf"},79:function(e,t,n){"use strict";n.r(t),t.default=n.p+"images/a10fe169c1fed7cb21d02f6fc2304bd1.png"},80:function(e,t,n){"use strict";n.r(t),t.default=n.p+"images/84d4d572aca8177cf2e916a1eee1a825.png"},81:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return cn}));var a={};n.r(a),n.d(a,"loadingStart",(function(){return Z})),n.d(a,"loadingFinish",(function(){return Q})),n.d(a,"toggleRepeat",(function(){return $})),n.d(a,"playing",(function(){return ee})),n.d(a,"paused",(function(){return te})),n.d(a,"setCurrentTrack",(function(){return ne})),n.d(a,"addTracks",(function(){return ae})),n.d(a,"arrangeTracks",(function(){return ie})),n.d(a,"removeTrack",(function(){return re}));var i=n(0),r=n.n(i),o=n(23),s=n.n(o),c=n(32),l=n.n(c),u=n(21),d=n.n(u),p=n(12),h=n.n(p),f=n(13),m=n.n(f),g=n(15),v=n.n(g),y=n(18),b=n.n(y),w=n(19),k=n.n(w),x=n(11),E=n.n(x),S=n(4),R=n.n(S),A=n(20);function T(e){Object.getOwnPropertyNames(e.constructor.prototype).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var C=n(33),M=n.n(C),D=n(2),O=n(10),P=["ja-JP","ja"];function z(e){if(!e.length)return 0;for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length}var j=function(){var e=window.innerWidth,t=1.3333*window.innerHeight;return t>e?(document.documentElement.style.setProperty("--scene-width","".concat(e,"px")),e):(document.documentElement.style.setProperty("--scene-width","".concat(t,"px")),t)},F=function(e){var t=Math.trunc(e/60).toString().padStart(2,"0"),n=Math.trunc(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(n)},L=function(e){return Math.random()*e-.5*e};function I(e,t){new O.Tween(e.scale).to({x:1.5,y:1.5,z:1.5},100).easing(O.Easing.Quadratic.Out).start(),setTimeout((function(){new O.Tween(e.scale).to({x:1,y:1,z:1},100).easing(O.Easing.Quadratic.In).start()}),250),t()}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:23,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:40,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:19;e.wrapS=D.RepeatWrapping,e.wrapT=D.RepeatWrapping,e.repeat.set(1/t,1/a);var i=0,r=0,o=419;this.update=function(s){for(i+=s;i>n;){i-=n,(r+=1)>o&&(r=0);var c=r%t,l=Math.floor(r/t);e.offset.y=1-l/a-1/a,e.offset.x=c/t}}}var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.language;return P.includes(e)?{intro:{},menu:{disc:"プレイリスト",settings:"ユーザー設定",hide:"パネル消去",skipBackwards:"曲戻し",skipForwards:"曲送り",play:"再生",pause:"一時停止",repeat:"リピート",repeatOne:"1曲",repeatAll:"全曲",repeatOff:"解除",stop:"停  止",advanced:"機能切り替え",exit:""},fileReader:{header:"Edit Playlist",helpText:"",exit:"",directory:"",files:""},playlist:{number:"#",title:"title",artist:"artist",album:"album"}}:{menu:{disc:"Edit Playlist",settings:"Coming Soon",hide:"Hide",skipBackwards:"Skip Backwards",skipForwards:"Skip Forwards",play:"Play",pause:"Pause",repeat:"Repeat",repeatOne:"1",repeatAll:"All",repeatOff:"Off",stop:"Stop",advanced:"About",exit:""},fileReader:{header:"Edit Playlist",helpText:"",exit:"",directory:"",files:""},playlist:{number:"#",title:"title",artist:"artist",album:"album"}}},U=function(){function e(t){h()(this,e),this.audio=t,this.leftChannel=[],this.rightChannel=[],this.setupAudioNodes(),T(this)}return m()(e,[{key:"setupAudioNodes",value:function(){var e=window.AudioContext||window.webkitAudioContext;this.audioContext=new e;var t=/iP(hone|od|ad)/.test(navigator.platform);(navigator.userAgent.indexOf("Firefox")>0||t)&&this.audioContext.suspend();var n=this.createAnalyserNode(),a=this.createAnalyserNode(),i=this.audioContext.createChannelSplitter(2);this.audioContext.createMediaElementSource(this.audio).connect(i),i.connect(n,0),i.connect(a,1),this.dataArrayLeft=new Uint8Array(n.frequencyBinCount),this.dataArrayRight=new Uint8Array(a.frequencyBinCount),this.analyserLeft=n,this.analyserRight=a}},{key:"createAnalyserNode",value:function(){var e=this.audioContext.createAnalyser();return e.smoothingTimeConstant=.1,e.fftSize=128,e.connect(this.audioContext.destination),e}},{key:"runAnalysis",value:function(){var e=this.analyserLeft,t=this.analyserRight,n=this.dataArrayLeft,a=this.dataArrayRight;e.getByteFrequencyData(n),t.getByteFrequencyData(a),this.leftChannel=n,this.rightChannel=a,this.frameId=requestAnimationFrame(this.runAnalysis)}},{key:"startAnalyser",value:function(){this.frameId=this.frameId||requestAnimationFrame(this.runAnalysis)}},{key:"pauseAnalyser",value:function(){cancelAnimationFrame(this.frameId),this.frameId=void 0}},{key:"start",value:function(){"suspended"!==this.audioContext.state&&this.startAnalyser()}},{key:"pause",value:function(){this.pauseAnalyser()}},{key:"stop",value:function(){this.pauseAnalyser(),this.audioContext.close()}},{key:"averageFFT",get:function(){return[z(this.leftChannel),z(this.rightChannel)]}},{key:"rawFFT",get:function(){return[this.leftChannel,this.rightChannel]}}]),e}(),q=n(29),_=n.n(q),Y=n(30),H=n.n(Y),G=n.p+"songs/05_No_Refuge.mp3",X=n.p+"images/98587519dbc2542b435fd580489caf71.jpg";function V(e){var t=function(e,t){if("object"!==_()(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==_()(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_()(t)?t:String(t)}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){H()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J={currentTrack:null,loading:!1,repeat:"off",currentTime:F(0),playing:!1,paused:!1,playlist:["NoRefuge"],tracks:{NoRefuge:{file:G,track:1,album:"Entertainment System",artist:"Professor Kliq",title:"No Refuge",href:"https://www.professorkliq.com",albumArtUrl:X}}},Z=function(){return cn.dispatch({type:"LOADING_STARTED",data:{loading:!0}})},Q=function(){return cn.dispatch({type:"LOADING_FINISHED",data:{loading:!1}})},$=function(e){return cn.dispatch({type:"TOGGLE_REPEAT",data:{repeat:e}})},ee=function(){return cn.dispatch({type:"PLAYING"})},te=function(){return cn.dispatch({type:"PAUSED"})},ne=function(e){return cn.dispatch({type:"SET_CURRENT_TRACK",data:{trackIndex:e}})},ae=function(e){return cn.dispatch({type:"ADD_TRACKS",data:{tracks:e}})},ie=function(e){return cn.dispatch({type:"ARRANGE_TRACKS",data:{playlist:e}})},re=function(e){return cn.dispatch({type:"REMOVE_TRACK",data:{trackIndex:e}})},oe=n.p+"images/818bb7b33691bf1b5e4c3c2387fdd991.jpeg",se=function(){function e(){h()(this,e),this.audioElement=new Audio,this.audioElement.crossOrigin="anonymous",this.repeat="off",this.reduxState=J,this.changeSrc=!0,this.analyser=new U(this.audioElement),this.setupEventListeners(),this.syncManagerWithStore(),T(this)}return m()(e,[{key:"syncManagerWithStore",value:function(){var e=this;cn.subscribe((function(){e.reduxState=cn.getState().audio,e.reduxState.currentTrack!==e.currentTrack?(e.currentTrack=e.reduxState.currentTrack,e.changeTrack=!0):e.changeTrack=!1}))}},{key:"togglePlay",value:function(){var e=this.audioElement;e.src||ne(0),e.paused||e.ended?this.playAndReport():e.pause()}},{key:"updateMediaSession",value:function(e){var t=e.title,n=e.artist,a=e.album,i=e.albumArtUrl;M()(e,["title","artist","album","albumArtUrl"]);this.audioElement.title="「".concat("SATURN.FM」",t," - ").concat(n),"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:t,artist:n,album:a,artwork:[{src:i||oe,sizes:"512x512"}]}))}},{key:"playAndReport",value:function(){var e=this,t=this.reduxState,n=t.tracks,a=t.playlist,i=t.currentTrack,r=a[void 0===i?0:i],o=n[r].file;if(o instanceof File){var s=URL.createObjectURL(o);this.audioElement.src!==s&&(this.audioElement.src=s),this.audioElement.play(),this.audioElement.play().then((function(){e.updateMediaSession(n[r])}))}else{var c=o.split("./songs"),l=c.length>0?c[0]:o;this.audioElement.src&&this.audioElement.src.includes(l)||(this.audioElement.src=o),this.audioElement.play().then((function(){e.updateMediaSession(n[r])}))}}},{key:"revokeSongUrl",value:function(){var e=this.reduxState,t=e.tracks,n=e.playlist,a=e.currentTrack,i=void 0===a?0:a;if(1!==n.length){var r=t[n[i]].file;r instanceof File&&URL.revokeObjectURL(r)}}},{key:"loadNext",value:function(e){this.revokeSongUrl();var t=this.reduxState.currentTrack+1;t>=this.reduxState.playlist.length?(ne(0),e&&"context"!==this.reduxState.repeat||this.playAndReport()):(ne(t),this.playAndReport())}},{key:"loadPrevious",value:function(){this.revokeSongUrl();var e=this.reduxState.currentTrack;ne(e?e-1:0),this.playAndReport()}},{key:"setupEventListeners",value:function(){var e=this;this.audioElement.addEventListener("loadstart",(function(){return Z()})),this.audioElement.addEventListener("canplaythrough",(function(){return Q()})),this.audioElement.addEventListener("play",(function(){ee(),e.analyser.start()})),this.audioElement.addEventListener("pause",(function(){te(),e.analyser.pause()})),this.audioElement.addEventListener("ended",(function(){"track"===e.reduxState.repeat?e.togglePlay():e.loadNext(!0)})),"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",(function(){return e.togglePlay()})),navigator.mediaSession.setActionHandler("pause",(function(){return e.togglePlay()})),navigator.mediaSession.setActionHandler("previoustrack",(function(){return e.previousTrack()})),navigator.mediaSession.setActionHandler("nexttrack",(function(){return e.nextTrack()})))}},{key:"nextTrack",value:function(){this.loadNext()}},{key:"previousTrack",value:function(){this.audioElement.currentTime>=3?this.audioElement.currentTime=0:this.loadPrevious()}},{key:"pause",value:function(){this.audioElement.pause()}},{key:"stop",value:function(){this.audioElement.pause(),this.audioElement.currentTime=0}},{key:"toggleRepeat",value:function(){var e;switch(this.reduxState.repeat){case"off":e="track";break;case"track":e="context";break;default:e="off"}$(e)}},{key:"analyserFFT",get:function(){return this.analyser.averageFFT}},{key:"rawFFT",get:function(){return this.analyser.rawFFT}},{key:"currentTime",get:function(){return this.audioElement.currentTime}}]),e}(),ce=n(14),le=n.n(ce),ue=n(34),de=n.n(ue),pe=function(e,t){return Math.random()*(e-t)+t},he=function(e,t){var n,a,i,r=142.5-(n=.75*t,a=Math.log(1),i=(Math.log(142)-a)/100,Math.exp(a+i*(n-0))),o=new D.Color("hsl(".concat(r>0?r:0,", 100%, 48%)")),s=o.r,c=o.g,l=o.b;return new O.Tween(e.material.color).to({r:s,g:c,b:l},100).easing(O.Easing.Linear.None).start()},fe=function(e,t){he(e,t);var n=.007*t>1?1:.007*t;e.morphTargetInfluences[0]=n;var a=.008*t+.5,i=a<1.65?a:1.65;return new O.Tween(e.scale).to({x:i,y:i,z:i},50).easing(O.Easing.Linear.None).start()},me=function(e,t){var n=t?-Math.abs(.03):.03,a=t?-Math.abs(.01):.01;e.rotateX(pe(n,a)),e.rotateY(pe(n,a))},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;a?e.position.y+=.0075:n&&(e.position.y-=.0075),e.rotateY(.0025*t)};function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=E()(e);if(t){var i=E()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return k()(this,n)}}var ye=function(e){b()(n,e);var t=ve(n);function n(e){var a;return h()(this,n),(a=t.call(this,e)).debouncedResize=null,a.loader=new de.a,a.animateDownL=!0,a.animateUpL=!1,a.animateDownR=!0,a.animateUpR=!1,T(v()(a)),window.addEventListener("resize",(function(){clearTimeout(a.debouncedResize),a.debouncedResize=setTimeout(a.onResize,250)})),window.addEventListener("orientationchange",(function(){a.onResize()})),a}return m()(n,[{key:"componentDidMount",value:function(){this.setupScene()}},{key:"shouldComponentUpdate",value:function(e){return this.props.hidden!==e.hidden}},{key:"onResize",value:function(){var e=j(),t=.75*e;this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}},{key:"setupScene",value:function(){var e=j(),t=.75*e,n=new D.Scene,a=new D.PerspectiveCamera(20,e/t,1,1200);a.position.z=45,a.position.y=-27;var i=new D.AmbientLight(16777215,.35),r=new D.DirectionalLight(16777215,.7);r.position.set(0,500,900),n.add(i,r);var o=new D.WebGLRenderer({alpha:!0,antialias:!1}),s=window.devicePixelRatio;o.setPixelRatio(1===s?.5*s:.15*s),o.setSize(e,t),this.scene=n,this.camera=a,this.renderer=o,this.setupCube("leftCube",[-6.75,-29.3,0]),this.setupCube("rightCube",[6.75,-29.7,0]),this.mount.appendChild(this.renderer.domElement)}},{key:"setupCube",value:function(e,t){var n=this,a=le()(t,3),i=a[0],r=a[1],o=a[2];this.loader.load("./models/cubeBigger.gltf",(function(t){var a=le()(t.scene.children,3)[2];a.material.color=new D.Color("hsl(143, 100%, 48%)"),a.material.dithering=!0,a.material.flatShading=!1,a.position.set(i,r,o),a.rotateX(.075),"rightCube"===e?a.rotateY(.075):a.rotateY(-.1),n[e]=a,n.scene.add(a),"rightCube"===e&&n.props.setAnimationCallback(n.animate)}))}},{key:"animate",value:function(){if(this.props.playing){var e=le()(this.props.audioManager.analyserFFT,2),t=e[0],n=e[1];this.leftCube.position.y=-29,this.rightCube.position.y=-29,fe(this.leftCube,t),fe(this.rightCube,n),me(this.leftCube),me(this.rightCube,-1)}else{var a=this.leftCube.position.y;a>=-28.25&&!this.animateDownL&&(this.animateDownL=!0,this.animateUpL=!1),a<=-30.25&&!this.animateUpL&&(this.animateUpL=!0,this.animateDownL=!1);var i=this.rightCube.position.y;i>=-28.25&&!this.animateDownR&&(this.animateDownR=!0,this.animateUpR=!1),i<=-30.25&&!this.animateUpR&&(this.animateUpR=!0,this.animateDownR=!1),ge(this.leftCube,.35,this.animateDownL,this.animateUpL),ge(this.rightCube,.35,this.animateDownR,this.animateUpR)}this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"cubes",ref:function(t){e.mount=t}})}}]),n}(r.a.Component);ye.propTypes={setAnimationCallback:R.a.func.isRequired,audioManager:R.a.shape({}).isRequired,playing:R.a.bool.isRequired,hidden:R.a.bool.isRequired};var be=ye,we=n.p+"images/543a72f6f864fc8510ea00ec42576c97.png",ke=n.p+"images/0bbfcff4472b1f675fd40a82519634a3.png",xe=n.p+"images/002dd322a815a9564be6e1935bd86dae.png",Ee=n.p+"images/d15ab5d39baa5d5cf453752383c0805f.png",Se=n.p+"images/5e38e41d27cca8a06521f15f8f44a93e.png",Re=n.p+"images/aa4138b43c8fc8be9e062c9b238e79c9.png",Ae=n.p+"images/4e00a72f43366d3d78c29876e3ea273d.png",Te=n.p+"images/c9c13bb55f77610c72c57d28e12fbafe.png",Ce=n.p+"images/0d8d1f45572906e55ef762143d0c5f6c.gif",Me=n.p+"images/777c6fbc3202247c243985661ac68b16.gif",De=n.p+"images/222a3f19cc7a7ce394a9c474b7e95477.png",Oe=new D.CylinderGeometry(1.45,1.45,.35,40,1,!0),Pe=(new D.TextureLoader).load(Ce),ze=(new D.TextureLoader).load(Me);Pe.magFilter=D.NearestFilter,ze.magFilter=D.NearestFilter;var je=new D.MeshBasicMaterial({side:D.DoubleSide,transparent:!0,map:Pe}),Fe=new D.MeshBasicMaterial({side:D.DoubleSide,transparent:!0,map:ze}),Le=new D.PlaneGeometry(2,2,1,1),Ie=new D.PlaneGeometry(1.5,1.5,1,1),Ne=(new D.TextureLoader).load(De);function Be(e,t){var n,a,i,r,o,s,c,l,u,d,p;n=e.position,a=t,i={duration:e.material.userData.animationDuration,delay:e.material.userData.animationDelay,easing:O.Easing.Quadratic.InOut},r=a.x,o=a.y,s=a.z,c=i.easing,l=void 0===c?O.Easing.Quadratic.In:c,u=i.delay,d=i.duration,p=void 0===d?2e3:d,new O.Tween(n).to({x:r,y:o,z:s},p).easing(l).delay(u).start()}var Ue=n.p+"images/eafd93780f7964be6bb714e719850105.png",qe=n.p+"songs/button-press.mp3",_e=n.p+"songs/button-highlight.mp3",Ye=n.p+"songs/hide.mp3",He=n.p+"songs/show.mp3";function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=E()(e);if(t){var i=E()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return k()(this,n)}}var Ve=function(e){b()(n,e);var t=Xe(n);function n(e){var a;return h()(this,n),(a=t.call(this,e)).timeOut=null,a.planes=[],a.shadowPlanes=[],a.buttonEffect=new Audio,a.buttonEffect.src=qe,a.highlightEffect=new Audio,a.highlightEffect.src=_e,a.hideEffect=new Audio,a.hideEffect.src=Ye,a.showEffect=new Audio,a.showEffect.src=He,a.state={activeButton:"play",allowToggle:!1,introActive:!0},a.clock=new D.Clock,a.buttons=["disc","settings","hide","rewind","play","fastforward","repeat","stop","advanced"],a.onMouseMoveThrottled=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;return function(a){var i=new Date;i-n>=t&&(e(a),n=i)}}(a.onMouseMove.bind(v()(a)),100),T(v()(a)),a}return m()(n,[{key:"componentDidMount",value:function(){var e=this;this.setupScene(),this.setupKeyboardListeners(),setTimeout((function(){return e.setState({introActive:!1})}),1e3)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.activeButton!==t.activeButton||(this.props.hidden!==e.hidden||this.props.paused!==e.paused||this.props.repeat!==e.repeat||this.props.playing!==e.playing)}},{key:"componentDidUpdate",value:function(e,t){if(this.state.activeButton!==t.activeButton){var n=le()(this.menuElements[this.state.activeButton].position,2),a=n[0],i=n[1];this.orbits.pink.position.set(a,i,2),this.orbits.purple.position.set(a,i,2.03),this.playHighlight()}}},{key:"onResize",value:function(){var e=j(),t=.75*e;this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}},{key:"onMouseDown",value:function(e){var t=this;if(e.stopPropagation(),!this.props.hidden){this.raycaster.setFromCamera(this.mouse,this.camera);var n=this.raycaster.intersectObjects(this.planes);if(n.length>0){var a=n[0].object.material.userData.onClick,i=n[0].object;"running"===this.props.audioManager.analyser.audioContext.state?this.handleMouseDown(i,a):this.props.audioManager.analyser.audioContext.resume().then((function(){t.handleMouseDown(i,a)})).catch((function(e){return console.log(e)}))}}}},{key:"handleMouseDown",value:function(e,t){"hide"!==e.name&&(this.buttonEffect.currentTime=0,this.buttonEffect.play()),I(e,t)}},{key:"onMouseMove",value:function(e){var t=this.renderer.domElement.getBoundingClientRect();this.mouse.x=(e.clientX-1.5*t.left)/(t.width-t.left)*2-1,this.mouse.y=-(e.clientY-t.top)/(t.bottom-t.top)*2+1,this.manageActiveButton()}},{key:"setupKeyboardListeners",value:function(){var e=this;window.addEventListener("keydown",(function(t){var n=e.buttons.indexOf(e.state.activeButton);switch(t.code){case"ArrowRight":2!==n&&5!==n&&(n+=1);break;case"ArrowLeft":3!==n&&6!==n&&(n-=1);break;case"ArrowUp":n-=3;break;case"ArrowDown":n+=3;break;case"Enter":var a=e.buttons[n],i=e.planes.find((function(e){return e.name===a}));"running"===e.props.audioManager.analyser.audioContext.state?(e.buttonEffect.currentTime=0,e.buttonEffect.play(),I(i,e.menuElements[a].onClick)):e.props.audioManager.analyser.audioContext.resume().then((function(){e.buttonEffect.currentTime=0,e.buttonEffect.play(),I(i,e.menuElements[a].onClick)})).catch((function(e){return console.log(e)}));break;default:n=-1}n>=0&&n<e.buttons.length&&e.setState({activeButton:e.buttons[n]})}))}},{key:"setupScene",value:function(){var e=j(),t=.75*e,n=new D.Scene,a=new D.PerspectiveCamera(2.5,e/t,1,500);a.aspect=e/t,a.position.z=360,a.position.y=.5,a.updateProjectionMatrix();var i=new D.WebGLRenderer({alpha:!0,antialias:!1});i.setSize(e,t),this.mouse=new D.Vector2,this.raycaster=new D.Raycaster,this.scene=n,this.camera=a,this.renderer=i,this.mount.appendChild(this.renderer.domElement),this.createMenuElements(),this.setupOrbAnimation(),this.setupEventListeners(),this.props.setAnimationCallback(this.animate)}},{key:"setupEventListeners",value:function(){var e=this,t=this.renderer.domElement;window.addEventListener("resize",(function(){clearTimeout(e.timeOut),e.timeOut=setTimeout(e.onResize,250)})),window.addEventListener("orientationchange",(function(){e.onResize()})),t.addEventListener("mousedown",(function(t){return e.onMouseDown(t)}),!1),t.addEventListener("mousemove",(function(t){return e.onMouseMoveThrottled(t)}),!1)}},{key:"setupOrbAnimation",value:function(){var e=(new D.TextureLoader).load(Ue);e.magFilter=D.NearestFilter,e.minFilter=D.NearestFilter,this.textureAnimator=new N(e);var t=new D.MeshBasicMaterial({map:e,transparent:!0,name:"advanced",userData:{animationDelay:900,animationDuration:300,showShadow:!0,onClick:this.props.toggleAbout}}),n=new D.Mesh(Le,t);n.position.set(2.25,-4.3,1),n.name="advanced",Ne.magFilter=D.NearestFilter,Ne.minFilter=D.NearestFilter;var a=new D.MeshBasicMaterial({map:Ne,transparent:!0,opacity:.5,userData:{animationDelay:900,animationDuration:300}}),i=new D.Mesh(Ie,a);i.position.set(2.25,-4.3-1.025,.5),this.shadowPlanes.push(i),this.scene.add(i),this.planes.push(n),this.scene.add(n)}},{key:"getToolTip",value:function(){var e=this.props,t=e.playing,n=e.paused,a=e.repeat,i=B().menu;return{disc:function(){return r.a.createElement("p",null,i.disc)},settings:function(){return r.a.createElement("p",null,i.settings)},hide:function(){return r.a.createElement("p",null,i.hide)},rewind:function(){return r.a.createElement("p",null,i.skipBackwards)},fastforward:function(){return r.a.createElement("p",null,i.skipForwards)},play:function(){var e=r.a.createElement("p",null,i.play," / ",i.pause);return t?e=r.a.createElement("p",null,r.a.createElement("strong",null,i.play)," / ",i.pause):n&&(e=r.a.createElement("p",null,i.play," / ",r.a.createElement("strong",null,i.pause))),e},repeat:function(){var e=r.a.createElement("p",null,i.repeat,": ",i.repeatOne," / ",i.repeatAll," /"," ",r.a.createElement("strong",null,i.repeatOff));return"track"===a?e=r.a.createElement("p",null,i.repeat,": ",r.a.createElement("strong",null,i.repeatOne)," /"," ",i.repeatAll," / ",i.repeatOff):"context"===a&&(e=r.a.createElement("p",null,i.repeat,": ",i.repeatOne," /"," ",r.a.createElement("strong",null,i.repeatAll)," / ",i.repeatOff)),e},stop:function(){return r.a.createElement("p",null,i.stop)},advanced:function(){return r.a.createElement("p",null,i.advanced)}}[this.state.activeButton]()}},{key:"orbitButton",value:function(){var e=this.orbits,t=e.pink,n=e.purple;this.props.hidden?(t.material.visible=!1,n.material.visible=!1):(t.material.visible=!0,n.material.visible=!0,t.rotateY(-.065),n.rotateY(.07))}},{key:"manageActiveButton",value:function(){this.raycaster.setFromCamera(this.mouse,this.camera);var e=this.raycaster.intersectObjects(this.planes);if(e.length>0){var t=e[0].object.material.name;t&&t!==this.state.activeButton&&this.setState({activeButton:t}),document.body.classList.add("pointer")}else document.body.classList.remove("pointer")}},{key:"hideMenu",value:function(){var e=this;return this.props.hidden?this.showIfHidden():(this.hideEffect.currentTime=0,this.hideEffect.play(),setTimeout((function(){e.planes.forEach((function(e){var t=e.position,n=t.x,a=t.y,i=t.z;Be(e,new D.Vector3(n,a-10,i))})),e.shadowPlanes.forEach((function(e){e.visible=!1})),e.props.hideDash()}),450),setTimeout((function(){return e.setState({allowToggle:!0})}),1400))}},{key:"animate",value:function(){O.update(),this.orbitButton();var e=this.clock.getDelta();this.renderer.render(this.scene,this.camera),this.textureAnimator.update(1e3*e)}},{key:"showIfHidden",value:function(){var e=this;this.state.allowToggle&&this.props.hidden&&(this.props.showIfHidden(),this.setState({allowToggle:!1}),this.showEffect.currentTime=0,this.showEffect.play(),this.planes.forEach((function(e){var t=e.position,n=t.x,a=t.y,i=t.z;Be(e,new D.Vector3(n,a+10,i))})),setTimeout((function(){e.shadowPlanes.forEach((function(e){e.visible=!0}))}),1e3))}},{key:"placeInScene",value:function(e){var t=e.name,n=void 0===t?"":t,a=e.position,i=e.onClick,r=e.mapSrc,o=e.animationDelay,s=e.animationDuration,c=e.showShadow,l=le()(a,3),u=l[0],d=l[1],p=l[2],h=(new D.TextureLoader).load(r);h.magFilter=D.NearestFilter,h.minFilter=D.NearestFilter;var f=new D.MeshBasicMaterial({map:h,transparent:!0,name:n,userData:{onClick:i,animationDelay:o,animationDuration:s}}),m=new D.Mesh(Le,f);if(m.position.set(u,d,p),m.name=n,c){Ne.magFilter=D.NearestFilter,Ne.minFilter=D.NearestFilter;var g=new D.MeshBasicMaterial({map:Ne,transparent:!0,opacity:.5,name:n,userData:{animationDelay:o,animationDuration:s}}),v=new D.Mesh(Ie,g);v.position.set(u,d-1.025,p-.5),this.shadowPlanes.push(v),this.scene.add(v)}this.planes.push(m),this.scene.add(m)}},{key:"placeOrbitsInScene",value:function(){var e=new D.Mesh(Oe,Fe),t=new D.Mesh(Oe,je);e.position.set(0,-2.15,2),e.rotateX(.35),e.rotateZ(-.8),t.position.set(0,-2.15,2.03),t.rotateZ(.8),t.rotateX(.25),t.rotateY(1),this.orbits={pink:e,purple:t},this.scene.add(e,t)}},{key:"createMenuElements",value:function(){var e,t,n,a=this,i=(e=this.props.audioManager,t=this.hideMenu,n=this.props.toggleMenu,[{name:"disc",position:[-2.25,0,1],onClick:function(){setTimeout(n(),500)},animationDuration:400,animationDelay:220,mapSrc:we,showShadow:!1},{name:"settings",position:[0,0,1],onClick:function(){},animationDelay:100,animationDuration:400,mapSrc:ke,showShadow:!1},{name:"hide",position:[2.25,0,1],onClick:t,animationDelay:180,animationDuration:400,mapSrc:xe,showShadow:!1},{name:"rewind",position:[-2.25,-2.15,1],onClick:e.previousTrack,animationDelay:500,animationDuration:350,mapSrc:Ee,showShadow:!1},{name:"play",position:[0,-2.15,1],onClick:e.togglePlay,animationDelay:300,animationDuration:350,mapSrc:Se,showShadow:!1},{name:"fastforward",position:[2.25,-2.15,1],onClick:e.nextTrack,animationDelay:280,animationDuration:350,mapSrc:Re},{name:"repeat",position:[-2.25,-4.3,1],onClick:e.toggleRepeat,animationDelay:600,animationDuration:300,mapSrc:Te,showShadow:!0},{name:"stop",position:[0,-4.3,1],onClick:e.stop,animationDelay:700,animationDuration:300,mapSrc:Ae,showShadow:!0}]);i.forEach((function(e){return a.placeInScene(e)})),this.menuElements=i.reduce((function(e,t){var n=t.name,a=t.position,i=t.onClick;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){H()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(H()({},n,{onClick:i,position:a}),e)}),{}),this.menuElements.advanced={onClick:this.props.toggleAbout,position:[2.25,-4.3,1]},this.placeOrbitsInScene()}},{key:"playHighlight",value:function(){void 0!==window.orientation||this.state.introActive||"running"===this.props.audioManager.analyser.audioContext.state&&(this.highlightEffect.currentTime=0,this.highlightEffect.play())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{onClick:this.showIfHidden,className:"menu",ref:function(t){e.mount=t}}),r.a.createElement("div",{className:"tooltips",key:this.state.activeButton},this.getToolTip()))}}]),n}(r.a.Component);Ve.propTypes={toggleMenu:R.a.func.isRequired,repeat:R.a.oneOf(["off","context","track"]).isRequired,hideDash:R.a.func.isRequired,hidden:R.a.bool.isRequired,showIfHidden:R.a.func.isRequired,audioManager:R.a.shape({}).isRequired};var Ke=Ve,We=n(7),Je=n.n(We),Ze=n(8),Qe=n.p+"images/57e24614352a90824b34fdc4411b3795.png",$e=n.p+"images/a45c3be41aef2a6557c01e81a079f19b.png";function et(){var e=Je()(["\n  line-height: 59px;\n  padding: 2px 22px 6px;\n  font-size: 42px;\n  text-stroke: 0.45px rgba(0, 0, 0, 0.5);\n\n  color: white;\n  text-transform: capitalize;\n\n  padding: 4px 1.5em 0;\n  margin: 0 auto;\n  margin-bottom: 20px;\n\n  background: url(",");\n  background-color: rgba(0, 0, 0, 0.5);\n  background-size: 100% 100%;\n  border-radius: 10px;\n\n  display: inline-block;\n"]);return et=function(){return e},e}var tt=function(e){var t=e.children;return r.a.createElement(nt,null,t)},nt=Ze.b.h2(et(),$e);function at(){var e=Je()(["\n  text-align: center;\n  max-width: 1000px;\n  margin: 0 auto;\n  opacity: 0;\n  animation-name: ",";\n  animation-duration: 10ms;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease-out;\n  animation-delay: 1.35s;\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  align-items: center;\n"]);return at=function(){return e},e}function it(){var e=Je()(["\n  from { opacity: 0; }\n  to { opacity: 1; }\n"]);return it=function(){return e},e}function rt(){var e=Je()(['\n  padding: 2em;\n  height: 100%;\n  cursor: default;\n  font-size: 14px;\n\n  &:before {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    top: 0;\n    content: " ";\n    display: block;\n    filter: brightness(0);\n    ',"\n    ",";\n    background: url(",") repeat-y;\n    background-position: center top;\n    background-size: 100% 880px;\n    z-index: -1;\n  }\n"]);return rt=function(){return e},e}function ot(){var e=Je()(["\n  image-rendering: optimizeSpeed; /* Older versions of FF          */\n  image-rendering: -moz-crisp-edges; /* FF 6.0+                       */\n  image-rendering: -webkit-optimize-contrast; /* Safari                        */\n  image-rendering: -o-crisp-edges; /* OS X & Windows Opera (12.02+) */\n  image-rendering: pixelated; /* Awesome future-browsers       */\n"]);return ot=function(){return e},e}function st(){var e=Je()(["\n  animation-name: ",";\n  animation-duration: 1s;\n  animation-iteration-count: 1;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease-out;\n  animation-delay: 500ms;\n"]);return st=function(){return e},e}function ct(){var e=Je()(["\nfrom {\n  filter: brightness(0);\n}\n\nto {\n  filter: brightness(1);\n}\n"]);return ct=function(){return e},e}function lt(){var e=Je()(["\n  width: 100%;\n\n  @media screen and (min-width: 500px) {\n    padding: 4px;\n  }\n\n  font-size: 13px;\n  color: white;\n  min-height: 200px;\n  height: 100%;\n  overflow-y: scroll;\n  &::-webkit-scrollbar {\n    width: 1em;\n  }\n\n  &::-webkit-scrollbar-track {\n    box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: darkgrey;\n    outline: 1px solid slategrey;\n  }\n"]);return lt=function(){return e},e}function ut(){var e=Je()(["\n  background: black;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  z-index: 100;\n"]);return ut=function(){return e},e}var dt=function(e){return r.a.createElement(pt,null,r.a.createElement(vt,{className:e.className},r.a.createElement(bt,null,r.a.createElement(tt,null,e.header),r.a.createElement(ht,null,e.children))))},pt=Ze.b.div(ut()),ht=Ze.b.div(lt()),ft=Object(Ze.c)(ct()),mt=Object(Ze.a)(st(),ft),gt=Object(Ze.a)(ot()),vt=Ze.b.div(rt(),mt,gt,Qe),yt=Object(Ze.c)(it()),bt=Ze.b.div(at(),yt);function wt(){var e=Je()(["\n  font-size: 16px !important;\n  text-align: left;\n  padding: 1em;\nline-height: 22px;\nem {\n  margin: 0.5em;\n  padding: 1em 1em 1em 2em;\n  display: inline-block;\n  border-left: 2px solid white;\n}\na {\n  text-decoration: none;\n  color: #f2f2f2;\n\n  margin-left: 0.5em;\n}\nul {\n  margin-top: 2em;\n}\nul li {\n  list-style-type: none;\n  margin-bottom: 15px;\n}\n}\n"]);return wt=function(){return e},e}var kt=function(e){return r.a.createElement(dt,{header:"About",className:"About"},r.a.createElement(Et,null,r.a.createElement("p",null,r.a.createElement("em",null,"Your scientists were so preoccupied with whether or not they could, they didn’t stop to think if they should.")),r.a.createElement("ul",null,r.a.createElement(xt,{icon:"",href:"mailto:mcamis@gmail.com"},"mcamis@gmail.com"),r.a.createElement(xt,{href:"https://twitter.com/vmu_beep"},"https://twitter.com/vmu_beep"),r.a.createElement(xt,{href:"https://adam.mcamis.lol"},"https://adam.mcamis.lol"),r.a.createElement(xt,{href:"https://github.com/mcamis/saturn.fm"},"https://github.com/mcamis/saturn.fm"))),r.a.createElement("button",{className:"close",type:"button",onClick:e.toggleAbout},"Exit"))},xt=function(e){return r.a.createElement("li",null,r.a.createElement("span",{role:"img","aria-label":"icon"},e.icon)," ",r.a.createElement("a",{href:e.href},e.hildren))},Et=Ze.b.div(wt());kt.propTypes={toggleAbout:R.a.func.isRequired};var St=kt,Rt=n(35),At=n(48),Tt=n.n(At),Ct=n(86);function Mt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}async function Ot(e){var t={};try{t=await function(e){return new Promise((function(t,n){Tt.a.read(e,{onSuccess:function(e){return t(e)},onError:function(e){return n(e)}})}))}(e)}catch(e){console.log("Fetching Tags Error",e)}var n,a=t.tags,i=(a=void 0===a?{}:a).artist,r=void 0===i?"":i,o=a.album,s=void 0===o?"":o,c=a.title,l=void 0===c?e.name:c,u=a.track,d=void 0===u?0:u,p=a.picture,h=void 0===p?{}:p,f=h.data,m=h.type;if(f){var g=new Uint8Array(f),v=new Blob([g],{type:m});n=URL.createObjectURL(v)}return{file:e,track:d,artist:r,album:s,title:l,albumArtUrl:n}}async function Pt(e){var t;try{t=await async function(e){var t=e.extensions,n=void 0===t?null:t,a=e.allowDirectory,i=void 0!==a&&a;return new Promise((function(e){var t=document.createElement("input");n&&t.setAttribute("accept",n),t.type="file",t.multiple=!0,t.webkitdirectory=i,t.directory=i,t.mozdirectory=i,t.addEventListener("change",(function(t){e(t.target.files)})),t.click()}))}(e)}catch(e){console.log(e)}return await async function(e){var t,n=[],a=Mt(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;i.type.includes("audio")&&n.push(Ot(i))}}catch(e){a.e(e)}finally{a.f()}return(await Promise.all(n)).reduce((function(e,t){return e[Object(Ct.a)()]=t,e}),{})}(t)}function zt(){var e=Je()(["\n  background-color: rgba(131, 23, 71, 0.65);\n\n  .draggable {\n    * {\n      user-select: none; /* Standard */\n    }\n    cursor: grab;\n    border-radius: 2px;\n    margin: 0 0 2px;\n    display: flex;\n    flex-direction: row;\n    text-align: left;\n    align-items: center;\n    font-size: 10px;\n    font-family: ChibiPhoebe;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    font-size: 20px;\n\n    @media screen and (min-width: 500px) {\n      font-size: 26px;\n      line-height: 14px;\n      padding: 0px 0 2px;\n      margin: 0;\n    }\n    p {\n      margin: 0;\n      padding: 0;\n    }\n    &:hover {\n      animation: "," 3s infinite;\n    }\n    &:active {\n      cursor: grabbing !important;\n    }\n    &.isDragging {\n      cursor: grabbing;\n      border: 1px white;\n      background: rgba(255, 255, 255, 0.5);\n      border-radius: 2px;\n    }\n    // Handle\n    div:nth-child(1) {\n      width: 40px;\n    }\n    //Song\n    div:nth-child(2) {\n      width: 40%;\n      max-width: 400px;\n      overflow: hidden;\n      white-space: pre;\n      text-overflow: ellipsis;\n    }\n    //Artist\n    div:nth-child(3) {\n      width: 25%;\n      max-width: 300px;\n      overflow: hidden;\n      white-space: pre;\n      text-overflow: ellipsis;\n    }\n    // Album\n    div:nth-child(4) {\n      width: 25%;\n      max-width: 300px;\n      overflow: hidden;\n      white-space: pre;\n      text-overflow: ellipsis;\n    }\n    button {\n      font-family: ChibiPhoebe;\n      transition: all 200ms ease;\n      color: white;\n      background: none;\n      border: 0;\n      outline: 0;\n      padding: 0;\n      margin: 0 auto;\n      line-height: inherit;\n    }\n  }\n"]);return zt=function(){return e},e}function jt(){var e=Je()(["\n0% {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n50% {\n  background: rgba(255, 255, 255, 0.25);\n}\n\n100% {\n  background: rgba(255, 255, 255, 0.1);\n}\n"]);return jt=function(){return e},e}function Ft(){var e=Je()(["\n  background-color: rgba(131, 23, 71, 0.65);\n\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  color: white;\n  text-align: left;\n  font-size: 42px;\n  text-transform: capitalize;\n\n  @media screen and (min-width: 500px) {\n    padding: 14px 0 0;\n  }\n\n  div:nth-child(1) {\n    width: 40px;\n  }\n  // Song\n  div:nth-child(2) {\n    width: 40%;\n    max-width: 400px;\n  }\n  //Artist\n  div:nth-child(3) {\n    width: 25%;\n    max-width: 200px;\n  }\n  // Album\n  div:nth-child(4) {\n    width: 25%;\n    max-width: 200px;\n  }\n  div:nth-child(5) {\n    width: 30px;\n  }\n"]);return Ft=function(){return e},e}function Lt(){var e=Je()(["\n  width: 100%;\n  max-height: calc(var(--vh, 1vh) * 60);\n  display: flex;\n  flex-direction: column;\n  border-radius: 3px;\n  box-shadow: 0 0 0 2px rgba(53, 59, 101, 0.8),\n    0 0 0 3.5px rgba(149, 149, 149, 0.8), 0 0 0 5px rgba(53, 59, 101, 0.8);\n"]);return Lt=function(){return e},e}function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=E()(e);if(t){var i=E()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return k()(this,n)}}var Nt=function(e){var t=e.isDragging,n=e.currentPlaying;return"draggable ".concat(t?"isDragging":""," ").concat(n?"currentTrack":"")},Bt=function(e){b()(n,e);var t=It(n);function n(e){var a;return h()(this,n),(a=t.call(this,e)).onDragEnd=a.onDragEnd.bind(v()(a)),a}return m()(n,[{key:"onDragEnd",value:function(e){var t=this.props.audio.currentTrack;if(e.destination){var n=function(e,t,n){var a=Array.from(e),i=a.splice(t,1),r=le()(i,1)[0];return a.splice(n,0,r),a}(this.props.audio.playlist,e.source.index,e.destination.index);e.source.index===t?this.props.setCurrentTrack(e.destination.index):e.destination.index===t?e.source.index<t?this.props.setCurrentTrack(t-1):this.props.setCurrentTrack(e.destination.index?t+1:1):e.source.index>t&&t>e.destination.index?this.props.setCurrentTrack(t+1):e.source.index<t&&t<e.destination.index&&this.props.setCurrentTrack(t-1),this.props.arrangeTracks(n)}}},{key:"getTracks",value:async function(){var e=await Pt({extensions:".mp3, .m4a, .flac, .wav, .aac"});this.props.addTracks(e)}},{key:"getDirectory",value:async function(){var e=await Pt({extensions:".mp3, .wav, .aac",allowDirectory:!0});this.props.addTracks(e)}},{key:"render",value:function(){var e=this,t=this.props.audio,n=t.currentTrack,a=t.playing,i=t.playlist,o=t.tracks,s=B(),c=s.fileReader,u=s.playlist;return r.a.createElement(dt,{className:"FileReader",header:c.header},r.a.createElement(Ut,null,r.a.createElement(qt,null,r.a.createElement("div",null,u.number),r.a.createElement("div",null,u.title),r.a.createElement("div",null,u.artist),r.a.createElement("div",null,u.album),r.a.createElement("div",null)),r.a.createElement(Yt,null,r.a.createElement(Rt.a,{onDragEnd:this.onDragEnd},r.a.createElement(Rt.c,{droppableId:"droppable"},(function(t){return r.a.createElement("div",{ref:t.innerRef},i.map((function(t,s){var c=o[t],u=c.artist,d=c.album,p=c.title,h=a&&t===i[n];return r.a.createElement(Rt.b,{key:t,draggableId:t,index:s},(function(t,n){var a=n.isDragging;return r.a.createElement("div",l()({className:Nt({isDragging:a,currentPlaying:h}),ref:t.innerRef},t.draggableProps,t.dragHandleProps),r.a.createElement("div",null,h?"▱":s+1),r.a.createElement("div",null,p),r.a.createElement("div",null,u),r.a.createElement("div",null,d),r.a.createElement("button",{className:"icon-button",onClick:function(){return e.props.removeTrack(s)},type:"button"},"▵"))}))})),t.placeholder)}))))),r.a.createElement("button",{className:"add-files",type:"button",onClick:function(){return e.getDirectory()}},"Add a directory"),r.a.createElement("button",{className:"add-files",type:"button",onClick:function(){return e.getTracks()}},"Add file(s)"),r.a.createElement("button",{className:"exit-button",type:"button",onClick:this.props.toggleMenu},"Exit"))}}]),n}(i.Component),Ut=Ze.b.div(Lt()),qt=Ze.b.div(Ft()),_t=Object(Ze.c)(jt()),Yt=Ze.b.div(zt(),_t);Bt.propTypes={audio:R.a.shape({tracks:R.a.object.isRequired,playlist:R.a.array.isRequired}).isRequired,arrangeTracks:R.a.func.isRequired,addTracks:R.a.func.isRequired,removeTrack:R.a.func.isRequired,toggleMenu:R.a.func.isRequired};var Ht=Bt;var Gt=function(e){var t,n,a,o=e.audioManager,s=e.currentTrack,c=Object(i.useState)(0),l=le()(c,2),u=l[0],d=l[1];return t=function(){d(o.currentTime)},n=1e3,a=Object(i.useRef)(),Object(i.useEffect)((function(){a.current=t})),Object(i.useEffect)((function(){if(null!==n){var e=setInterval((function(){a.current()}),n);return function(){return clearInterval(e)}}}),[n]),r.a.createElement("header",null,r.a.createElement("h3",null,"Track"),r.a.createElement("p",{className:"track-number"},s+1),r.a.createElement("h3",null,"Time"),r.a.createElement("p",null,F(u)))};Gt.propTypes={audioManager:R.a.shape({})};var Xt=Gt;function Vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=E()(e);if(t){var i=E()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return k()(this,n)}}var Kt={plain:[2.5,-3.5,510],spinny:[-2.5,3.5,505],fast:[0,3,510]},Wt=function(e){b()(n,e);var t=Vt(n);function n(e){var a;h()(this,n),(a=t.call(this,e)).timeOut=null,T(v()(a));var i=j(),r=window.innerHeight;a.width=i,a.height=r;var o=new D.BufferGeometry,s=new Float32Array([-1,-1,1,1,-1,1,1,1,1,1,1,1,-1,1,1,-1,-1,1]);return o.setAttribute("position",new D.BufferAttribute(s,3)),a.blueMaterial=new D.MeshBasicMaterial({color:7707903}),a.redMaterial=new D.MeshBasicMaterial({color:16741754}),a.yellowMaterial=new D.MeshBasicMaterial({color:15589691}),a.whiteMaterial=new D.MeshBasicMaterial({color:16777215}),a.starGeometry=o,window.addEventListener("resize",(function(){clearTimeout(a.timeOut),a.timeOut=setTimeout(a.onResize,250)})),window.addEventListener("orientationchange",(function(){a.onResize()})),a}return m()(n,[{key:"componentDidMount",value:function(){this.setupScene()}},{key:"shouldComponentUpdate",value:function(e){return this.props.hidden!==e.hidden||this.props.animation!==e.animation}},{key:"componentDidUpdate",value:function(e){if(this.props.animation!==e.animation){var t=le()(Kt[this.props.animation],3),n=t[0],a=t[1],i=t[2];this.spaceShip.position.set(n,a,i)}}},{key:"onResize",value:function(){var e=j(),t=window.innerHeight;this.width=e,this.height=t,this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}},{key:"setupScene",value:function(){var e=new D.Scene,t=new D.PerspectiveCamera(70,this.width/this.height,1,1e3),n=new D.DirectionalLight(16777215,3),a=new D.DirectionalLight(16777215,2),i=new D.DirectionalLight(16777215,2);n.position.set(-10,46,600),a.position.set(-200,46,500),i.position.set(200,46,500),e.add(n,a,i);var r=new D.WebGLRenderer({alpha:!0,antialias:!1});r.setClearColor(16777215),t.position.z=500;var o=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome"),s=window.devicePixelRatio;r.setPixelRatio(1===s||o?.65*s:.25*s),r.setSize(this.width,this.height),r.setClearColor(0,0),this.camera=t,this.renderer=r,this.scene=e,this.stars=this.stars||[],this.mount.appendChild(this.renderer.domElement),this.setupSpaceShip(),this.addStars(),this.props.setAnimationCallback(this.animate)}},{key:"setupSpaceShip",value:function(){var e=this;(new de.a).load("./models/saturn_v1.gltf",(function(t){var n=t.scene,a=le()(Kt[e.props.animation],3),i=a[0],r=a[1],o=a[2];n.position.set(i,r,o),n.rotateZ(3.5),n.rotateY(Math.PI),n.visible=!1;var s=n.children[1].material.map;s.magFilter=D.LinearFilter,s.minFilter=D.LinearFilter,s.generateMipmaps=!1,e.spaceShip=n,window.ship=n,e.scene.add(n)}))}},{key:"animate",value:function(){this.animateStars(),this.renderScene(),this.spaceShip&&(this.props.hidden?(this.spaceShip.visible=!0,"plain"===this.props.animation?this.plain():"spinny"===this.props.animation?this.spinny():"fast"===this.props.animation&&this.fast()):this.spaceShip.visible=!1)}},{key:"plain",value:function(){this.spaceShip.rotateZ(.01),this.spaceShip.position.z-=.045,this.spaceShip.position.z<400&&this.props.setRandomAnimation()}},{key:"spinny",value:function(){this.spaceShip.rotateZ(.0025),this.spaceShip.position.z-=.2,this.spaceShip.position.x+=.05,this.spaceShip.position.y+=.025,this.spaceShip.position.z<400&&this.props.setRandomAnimation()}},{key:"fast",value:function(){this.spaceShip.rotateZ(-.005),this.spaceShip.position.z-=.05,this.spaceShip.position.x-=.0075,this.spaceShip.position.z<400&&this.props.setRandomAnimation()}},{key:"addStars",value:function(){for(var e=-500;e<500;e+=13){var t=this.whiteMaterial;e>0&&e<100?t=this.redMaterial:e>100&&e<200?t=this.yellowMaterial:e>100&&e<200&&(t=this.blueMaterial);var n=new D.Mesh(this.starGeometry,t);n.position.x=L(this.width),n.position.y=L(this.height),n.position.z=e;var a=2*Math.random()+1,i=this.width<500?.75:1;n.scale.set(a*i,a*i,1),this.scene.add(n),this.stars.push(n)}}},{key:"animateStars",value:function(){for(var e=0;e<this.stars.length;e+=1){var t=this.props.useSlow?5:20;this.stars[e].position.z+=t*Math.random(),this.stars[e].position.z>550&&(this.stars[e].position.z-=800,this.stars[e].position.x=L(this.width),this.stars[e].position.y=L(this.height))}}},{key:"renderScene",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"StarField"},r.a.createElement("div",{ref:function(t){e.mount=t}}))}}]),n}(r.a.Component);Wt.propTypes={hidden:R.a.bool.isRequired,animation:R.a.string.isRequired,setRandomAnimation:R.a.func.isRequired,setAnimationCallback:R.a.func.isRequired};var Jt=Wt,Zt=function(e){var t=e.href,n=e.artist,a=e.title;return r.a.createElement("div",{className:"current-track-info nice",key:a+n},r.a.createElement("p",null,a," ",n&&r.a.createElement(r.a.Fragment,null,"- ",n)),t&&r.a.createElement("p",null,r.a.createElement("a",{href:t,target:"blank"},t)))};Zt.propTypes={href:R.a.string,artist:R.a.string.isRequired,title:R.a.string.isRequired},Zt.defaultProps={href:""};var Qt=Zt,$t=n.p+"songs/intro.mp3";function en(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=E()(e);if(t){var i=E()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return k()(this,n)}}var tn=function(e){b()(n,e);var t=en(n);function n(e){var a;return h()(this,n),a=t.call(this,e),T(v()(a)),a.introEffect=new Audio,a.introEffect.src=$t,a.audioManager=null,a.state={animation:"plain",show:!1,hidden:!1,showAboutModal:!1,fileReaderVisible:!1,frameCallbacks:[]},a.frameId=null,a}return m()(n,[{key:"componentDidMount",value:function(){this.frameId=requestAnimationFrame(this.animate)}},{key:"setupAnalyser",value:function(){var e=this;this.audioManager=new se,this.audioManager.analyser.audioContext.resume().then((function(){e.forceUpdate(),e.playIntro()}))}},{key:"getClassNames",value:function(){var e=this.props.audio,t=e.playing,n=e.paused,a=this.state.hidden?"hidden":"",i=this.audioManager?"intro":" ",r=n?"paused":"",o=t?"playing":"",s=this.state.show?"show":"",c=["ja-JP","ja"].includes(navigator.language)?"japanese":"";return"".concat(a," ").concat(i," ").concat(r," ").concat(o," ").concat(s," ").concat(c)}},{key:"setRandomAnimation",value:function(){var e=this,t=["plain","spinny","fast"].filter((function(t){return t!==e.state.animation})),n=t[Math.floor(Math.random()*t.length)];this.setState({animation:n})}},{key:"setAnimationCallback",value:function(e){this.setState((function(t){return{frameCallbacks:[].concat(d()(t.frameCallbacks),[e])}}))}},{key:"playIntro",value:function(){var e=this;setTimeout((function(){e.introEffect.play()}),350)}},{key:"hideDash",value:function(){var e=["plain","spinny","fast"],t=e[Math.floor(Math.random()*e.length)];this.setState((function(e){return{hidden:!e.hidden,show:!1,animation:t}}))}},{key:"showIfHidden",value:function(){this.state.hidden&&(this.frameId=this.frameId||requestAnimationFrame(this.animate),this.setState({hidden:!1,show:!0}))}},{key:"animate",value:function(){this.state.frameCallbacks.forEach((function(e){return e()})),this.frameId=requestAnimationFrame(this.animate)}},{key:"toggleMenu",value:function(){this.frameId?(cancelAnimationFrame(this.frameId),this.frameId=void 0):requestAnimationFrame(this.animate),this.setState((function(e){return{fileReaderVisible:!e.fileReaderVisible}}))}},{key:"render",value:function(){var e=this,t=this.props.audio,n=t.playing,i=t.paused,o=t.repeat,s=t.playlist,c=t.currentTrack,u=t.tracks[s[c]];return r.a.createElement("div",{className:this.getClassNames()},this.audioManager&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Xt,{currentTrack:this.props.audio.currentTrack,audioManager:this.audioManager}),r.a.createElement(Ke,{audioManager:this.audioManager,hidden:this.state.hidden,showIfHidden:this.showIfHidden,toggleMenu:this.toggleMenu,toggleAbout:function(){return e.setState((function(e){return{showAboutModal:!e.showAboutModal}}))},hideDash:this.hideDash,repeat:o,paused:i,playing:n,setAnimationCallback:this.setAnimationCallback}),r.a.createElement("div",{className:"dashboard"}),r.a.createElement(be,{audioManager:this.audioManager,hidden:this.state.hidden,paused:i,playing:n,setAnimationCallback:this.setAnimationCallback}),this.props.toast&&r.a.createElement("p",null,this.props.toast),this.state.fileReaderVisible&&r.a.createElement(Ht,l()({},a,{audio:this.props.audio,toggleMenu:this.toggleMenu})),this.state.showAboutModal&&r.a.createElement(St,{toggleAbout:function(){return e.setState((function(e){return{showAboutModal:!e.showAboutModal}}))}}),u&&r.a.createElement(Qt,{title:u.title,href:u.href,artist:u.artist})),r.a.createElement(Jt,{useSlow:!this.audioManager,animation:this.state.animation,hidden:this.state.hidden,setAnimationCallback:this.setAnimationCallback,setRandomAnimation:this.setRandomAnimation}),(!this.audioManager||"suspended"===this.audioManager.analyser.audioContext.state)&&r.a.createElement("div",{className:"start-context"},r.a.createElement("button",{type:"button",onClick:function(){return e.setupAnalyser()}},r.a.createElement("span",null,"Press Start")," スタート")))}}]),n}(i.Component);tn.propTypes={audio:R.a.shape({currentTrack:R.a.number,playing:R.a.bool.isRequired,paused:R.a.bool.isRequired,repeat:R.a.oneOf(["off","context","track"]).isRequired}).isRequired,toast:R.a.string},tn.defaultProps={toast:""};var nn=Object(A.b)((function(e){return{audio:e.audio}}))(tn),an=n(16),rn=Object(an.c)({audio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLAYING":return W(W({},e),{},{playing:!0,paused:!1});case"PAUSED":return W(W({},e),{},{playing:!1,paused:!0});case"TOGGLE_REPEAT":return W(W({},e),{},{repeat:t.data.repeat});case"SET_CURRENT_TRACK":return W(W({},e),{},{currentTrack:t.data.trackIndex});case"ADD_TRACKS":return W(W({},e),{},{tracks:W(W({},e.tracks),t.data.tracks),playlist:[].concat(d()(e.playlist),d()(Object.keys(t.data.tracks).sort((function(e,n){var a=t.data.tracks[e],i=t.data.tracks[n];return a.album>i.album?1:a.album<i.album?-1:a.track>i.track?1:a.track<i.track?-1:void 0}))))});case"ARRANGE_TRACKS":return W(W({},e),{},{playlist:t.data.playlist});case"REMOVE_TRACK":var n=e.playlist[t.datatrackIndex],a=e.tracks,i=(a[n],M()(a,[n].map(V)));return W(W({},e),{},{playlist:[].concat(d()(e.playlist.slice(0,t.data.trackIndex)),d()(e.playlist.slice(t.data.trackIndex+1))),tracks:W({},i)});default:return e}}});n(70);var on=n(36),sn=n(37);n(85).a({dsn:"https://992c24dba9924e9a9431f74d2b9515a6@sentry.io/1830195"});var cn=Object(an.e)(rn,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());function ln(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}window.addEventListener("resize",(function(){ln()})),window.addEventListener("orientationchange",(function(){ln()})),setTimeout((function(){ln(),[on.default,sn.default,Ue,we,ke,xe,Ee,Se,Re,Ae,Te,Ce,Me,De].forEach((function(e){(new Image).src=e})),s.a.render(r.a.createElement(A.a,{store:cn},r.a.createElement(nn,null)),document.getElementById("root"))}),100)}});